(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('@import"https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600&family=Poppins:wght@400;500;600;700&display=swap";/*! tailwindcss v3.3.2 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.wallie-fixed{position:fixed}.wallie-relative{position:relative}.wallie-inset-0{top:0;right:0;bottom:0;left:0}.wallie-z-10{z-index:10}.wallie-z-50{z-index:50}.wallie-mx-auto{margin-left:auto;margin-right:auto}.wallie--mt-1{margin-top:-.25rem}.wallie-mb-1{margin-bottom:.25rem}.wallie-ml-auto{margin-left:auto}.wallie-block{display:block}.wallie-inline-block{display:inline-block}.wallie-flex{display:flex}.wallie-hidden{display:none}.wallie-h-\\[19px\\]{height:19px}.wallie-h-screen{height:100vh}.wallie-min-h-full{min-height:100%}.wallie-w-5{width:1.25rem}.wallie-w-6{width:1.5rem}.wallie-w-\\[19px\\]{width:19px}.wallie-w-full{width:100%}.wallie-scale-100{--tw-scale-x:1;--tw-scale-y:1}.wallie-scale-100,.wallie-scale-95{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.wallie-scale-95{--tw-scale-x:.95;--tw-scale-y:.95}.wallie-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.wallie-flex-row{flex-direction:row}.wallie-flex-col{flex-direction:column}.wallie-items-end{align-items:flex-end}.wallie-items-center{align-items:center}.wallie-justify-center{justify-content:center}.wallie-justify-between{justify-content:space-between}.wallie-space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.wallie-space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.wallie-space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(1rem*var(--tw-space-y-reverse));margin-top:calc(1rem*(1 - var(--tw-space-y-reverse)))}.wallie-overflow-hidden{overflow:hidden}.wallie-overflow-y-auto{overflow-y:auto}.wallie-break-all{word-break:break-all}.wallie-rounded-full{border-radius:9999px}.wallie-rounded-lg{border-radius:.5rem}.wallie-bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.wallie-bg-ord-blue-600{--tw-bg-opacity:1;background-color:rgb(23 30 45/var(--tw-bg-opacity))}.wallie-bg-ord-light-blue{--tw-bg-opacity:1;background-color:rgb(48 55 70/var(--tw-bg-opacity))}.wallie-bg-ord-light-blue-400{--tw-bg-opacity:1;background-color:rgb(73 82 102/var(--tw-bg-opacity))}.wallie-bg-ord-orange{--tw-bg-opacity:1;background-color:rgb(255 108 58/var(--tw-bg-opacity))}.wallie-bg-opacity-90{--tw-bg-opacity:.9}.wallie-p-1{padding:.25rem}.wallie-p-2{padding:.5rem}.wallie-p-4{padding:1rem}.wallie-p-8{padding:2rem}.wallie-px-1{padding-left:.25rem;padding-right:.25rem}.wallie-py-3{padding-bottom:.75rem;padding-top:.75rem}.wallie-pb-4{padding-bottom:1rem}.wallie-pr-2{padding-right:.5rem}.wallie-pr-3{padding-right:.75rem}.wallie-pt-4{padding-top:1rem}.wallie-text-left{text-align:left}.wallie-text-\\[21px\\]{font-size:21px}.wallie-text-lg{font-size:1.125rem;line-height:1.75rem}.wallie-text-sm{font-size:.875rem;line-height:1.25rem}.wallie-font-medium{font-weight:500}.wallie-leading-8{line-height:2rem}.wallie-text-ord-alert{--tw-text-opacity:1;color:rgb(248 242 94/var(--tw-text-opacity))}.wallie-text-ord-blue{--tw-text-opacity:1;color:rgb(17 22 33/var(--tw-text-opacity))}.wallie-text-ord-gray{--tw-text-opacity:1;color:rgb(137 138 149/var(--tw-text-opacity))}.wallie-text-ord-light-blue-400{--tw-text-opacity:1;color:rgb(73 82 102/var(--tw-text-opacity))}.wallie-text-ord-light-gray{--tw-text-opacity:1;color:rgb(217 213 210/var(--tw-text-opacity))}.wallie-opacity-0{opacity:0}.wallie-opacity-100{opacity:1}.wallie-transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.wallie-transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.wallie-duration-100{transition-duration:.1s}.wallie-duration-200{transition-duration:.2s}.wallie-duration-300{transition-duration:.3s}.wallie-ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.wallie-ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}body,html{font-family:Outfit,sans-serif;margin:0;padding:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth}@media (min-width:640px){.sm\\:wallie-items-center{align-items:center}.sm\\:wallie-p-0{padding:0}}@media (min-width:768px){.md\\:wallie-block{display:block}.md\\:wallie-w-7{width:1.75rem}.md\\:wallie-w-8{width:2rem}.md\\:wallie-w-96{width:24rem}.md\\:wallie-space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.5rem*var(--tw-space-x-reverse))}.md\\:wallie-bg-opacity-75{--tw-bg-opacity:.75}.md\\:wallie-px-3{padding-left:.75rem}.md\\:wallie-pr-3,.md\\:wallie-px-3{padding-right:.75rem}.md\\:wallie-text-xl{font-size:1.25rem;line-height:1.75rem}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
var di = Object.defineProperty;
var fi = (e, t, n) => t in e ? di(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n;
var j = (e, t, n) => fi(e, typeof t != "symbol" ? t + "" : t, n);
import * as $e from "react";
import O, { useState as $, useEffect as F, useCallback as H, createContext as we, useMemo as V, useContext as ae, useLayoutEffect as pi, useRef as M, forwardRef as hi, Fragment as le, isValidElement as mi, cloneElement as gi, createElement as wi, useReducer as ir, createRef as sn } from "react";
import { g as vi, s as bi, l as yi, a as Ei, L as Un } from "./index-8ymGC9fB.js";
import { getAddresses as Ti, signPsbt as xi, getMagicEdenWalletProvider as Ci, signMessage as Si } from "./magiceden.js";
import { getAddresses as Ii, signPsbt as Oi, signMessage as Pi } from "./unisat.js";
import { getAddresses as Ai, signPsbt as Ri, signMessage as Ni } from "./xverse.js";
import { B as Li, U as Mi, O as Q, o as Hn, g as _i, A as $i, a as Lt, M as Di, b as Bn, c as ji, d as Be, C as ki, t as ar, e as sr, I as Fi, f as lt, h as zt, i as Ui } from "./index-DpaD9iwk.js";
import { createPortal as Hi } from "react-dom";
import Wn from "bignumber.js";
import { Transaction as on, Psbt as Mt } from "bitcoinjs-lib";
import "ecpair";
import "@bitcoinerlab/secp256k1";
import Kn from "cross-fetch";
import { signPsbt as Bi, signMessage as Wi } from "./okx.js";
import Ki from "buffer-reverse";
import { sendBtcTransaction as Vi, BitcoinNetworkType as Vn } from "sats-connect";
function Xi(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
var or = { exports: {} }, W = or.exports = {}, be, ye;
function ln() {
  throw new Error("setTimeout has not been defined");
}
function un() {
  throw new Error("clearTimeout has not been defined");
}
(function() {
  try {
    typeof setTimeout == "function" ? be = setTimeout : be = ln;
  } catch {
    be = ln;
  }
  try {
    typeof clearTimeout == "function" ? ye = clearTimeout : ye = un;
  } catch {
    ye = un;
  }
})();
function lr(e) {
  if (be === setTimeout)
    return setTimeout(e, 0);
  if ((be === ln || !be) && setTimeout)
    return be = setTimeout, setTimeout(e, 0);
  try {
    return be(e, 0);
  } catch {
    try {
      return be.call(null, e, 0);
    } catch {
      return be.call(this, e, 0);
    }
  }
}
function Gi(e) {
  if (ye === clearTimeout)
    return clearTimeout(e);
  if ((ye === un || !ye) && clearTimeout)
    return ye = clearTimeout, clearTimeout(e);
  try {
    return ye(e);
  } catch {
    try {
      return ye.call(null, e);
    } catch {
      return ye.call(this, e);
    }
  }
}
var Ie = [], Qe = !1, Ue, At = -1;
function Yi() {
  !Qe || !Ue || (Qe = !1, Ue.length ? Ie = Ue.concat(Ie) : At = -1, Ie.length && ur());
}
function ur() {
  if (!Qe) {
    var e = lr(Yi);
    Qe = !0;
    for (var t = Ie.length; t; ) {
      for (Ue = Ie, Ie = []; ++At < t; )
        Ue && Ue[At].run();
      At = -1, t = Ie.length;
    }
    Ue = null, Qe = !1, Gi(e);
  }
}
W.nextTick = function(e) {
  var t = new Array(arguments.length - 1);
  if (arguments.length > 1)
    for (var n = 1; n < arguments.length; n++)
      t[n - 1] = arguments[n];
  Ie.push(new cr(e, t)), Ie.length === 1 && !Qe && lr(ur);
};
function cr(e, t) {
  this.fun = e, this.array = t;
}
cr.prototype.run = function() {
  this.fun.apply(null, this.array);
};
W.title = "browser";
W.browser = !0;
W.env = {};
W.argv = [];
W.version = "";
W.versions = {};
function Ae() {
}
W.on = Ae;
W.addListener = Ae;
W.once = Ae;
W.off = Ae;
W.removeListener = Ae;
W.removeAllListeners = Ae;
W.emit = Ae;
W.prependListener = Ae;
W.prependOnceListener = Ae;
W.listeners = function(e) {
  return [];
};
W.binding = function(e) {
  throw new Error("process.binding is not supported");
};
W.cwd = function() {
  return "/";
};
W.chdir = function(e) {
  throw new Error("process.chdir is not supported");
};
W.umask = function() {
  return 0;
};
var qi = or.exports;
const dr = /* @__PURE__ */ Xi(qi);
var cn = { exports: {} }, ut = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Xn;
function zi() {
  if (Xn) return ut;
  Xn = 1;
  var e = O, t = Symbol.for("react.element"), n = Symbol.for("react.fragment"), r = Object.prototype.hasOwnProperty, i = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, a = { key: !0, ref: !0, __self: !0, __source: !0 };
  function s(o, u, f) {
    var c, d = {}, p = null, m = null;
    f !== void 0 && (p = "" + f), u.key !== void 0 && (p = "" + u.key), u.ref !== void 0 && (m = u.ref);
    for (c in u) r.call(u, c) && !a.hasOwnProperty(c) && (d[c] = u[c]);
    if (o && o.defaultProps) for (c in u = o.defaultProps, u) d[c] === void 0 && (d[c] = u[c]);
    return { $$typeof: t, type: o, key: p, ref: m, props: d, _owner: i.current };
  }
  return ut.Fragment = n, ut.jsx = s, ut.jsxs = s, ut;
}
var ct = {}, Gn;
function Zi() {
  return Gn || (Gn = 1, dr.env.NODE_ENV !== "production" && function() {
    var e = O, t = Symbol.for("react.element"), n = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), i = Symbol.for("react.strict_mode"), a = Symbol.for("react.profiler"), s = Symbol.for("react.provider"), o = Symbol.for("react.context"), u = Symbol.for("react.forward_ref"), f = Symbol.for("react.suspense"), c = Symbol.for("react.suspense_list"), d = Symbol.for("react.memo"), p = Symbol.for("react.lazy"), m = Symbol.for("react.offscreen"), v = Symbol.iterator, g = "@@iterator";
    function b(l) {
      if (l === null || typeof l != "object")
        return null;
      var h = v && l[v] || l[g];
      return typeof h == "function" ? h : null;
    }
    var N = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function y(l) {
      {
        for (var h = arguments.length, w = new Array(h > 1 ? h - 1 : 0), C = 1; C < h; C++)
          w[C - 1] = arguments[C];
        P("error", l, w);
      }
    }
    function P(l, h, w) {
      {
        var C = N.ReactDebugCurrentFrame, _ = C.getStackAddendum();
        _ !== "" && (h += "%s", w = w.concat([_]));
        var D = w.map(function(L) {
          return String(L);
        });
        D.unshift("Warning: " + h), Function.prototype.apply.call(console[l], console, D);
      }
    }
    var x = !1, T = !1, S = !1, k = !1, pe = !1, ue;
    ue = Symbol.for("react.module.reference");
    function Te(l) {
      return !!(typeof l == "string" || typeof l == "function" || l === r || l === a || pe || l === i || l === f || l === c || k || l === m || x || T || S || typeof l == "object" && l !== null && (l.$$typeof === p || l.$$typeof === d || l.$$typeof === s || l.$$typeof === o || l.$$typeof === u || // This needs to include all possible module reference object
      // types supported by any Flight configuration anywhere since
      // we don't know which Flight build this will end up being used
      // with.
      l.$$typeof === ue || l.getModuleId !== void 0));
    }
    function je(l, h, w) {
      var C = l.displayName;
      if (C)
        return C;
      var _ = h.displayName || h.name || "";
      return _ !== "" ? w + "(" + _ + ")" : w;
    }
    function xe(l) {
      return l.displayName || "Context";
    }
    function Z(l) {
      if (l == null)
        return null;
      if (typeof l.tag == "number" && y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), typeof l == "function")
        return l.displayName || l.name || null;
      if (typeof l == "string")
        return l;
      switch (l) {
        case r:
          return "Fragment";
        case n:
          return "Portal";
        case a:
          return "Profiler";
        case i:
          return "StrictMode";
        case f:
          return "Suspense";
        case c:
          return "SuspenseList";
      }
      if (typeof l == "object")
        switch (l.$$typeof) {
          case o:
            var h = l;
            return xe(h) + ".Consumer";
          case s:
            var w = l;
            return xe(w._context) + ".Provider";
          case u:
            return je(l, l.render, "ForwardRef");
          case d:
            var C = l.displayName || null;
            return C !== null ? C : Z(l.type) || "Memo";
          case p: {
            var _ = l, D = _._payload, L = _._init;
            try {
              return Z(L(D));
            } catch {
              return null;
            }
          }
        }
      return null;
    }
    var se = Object.assign, oe = 0, We, ve, ke, Ke, Ce, Ne, he;
    function rt() {
    }
    rt.__reactDisabledLog = !0;
    function ce() {
      {
        if (oe === 0) {
          We = console.log, ve = console.info, ke = console.warn, Ke = console.error, Ce = console.group, Ne = console.groupCollapsed, he = console.groupEnd;
          var l = {
            configurable: !0,
            enumerable: !0,
            value: rt,
            writable: !0
          };
          Object.defineProperties(console, {
            info: l,
            log: l,
            warn: l,
            error: l,
            group: l,
            groupCollapsed: l,
            groupEnd: l
          });
        }
        oe++;
      }
    }
    function In() {
      {
        if (oe--, oe === 0) {
          var l = {
            configurable: !0,
            enumerable: !0,
            writable: !0
          };
          Object.defineProperties(console, {
            log: se({}, l, {
              value: We
            }),
            info: se({}, l, {
              value: ve
            }),
            warn: se({}, l, {
              value: ke
            }),
            error: se({}, l, {
              value: Ke
            }),
            group: se({}, l, {
              value: Ce
            }),
            groupCollapsed: se({}, l, {
              value: Ne
            }),
            groupEnd: se({}, l, {
              value: he
            })
          });
        }
        oe < 0 && y("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
      }
    }
    var it = N.ReactCurrentDispatcher, at;
    function Ve(l, h, w) {
      {
        if (at === void 0)
          try {
            throw Error();
          } catch (_) {
            var C = _.stack.trim().match(/\n( *(at )?)/);
            at = C && C[1] || "";
          }
        return `
` + at + l;
      }
    }
    var Xe = !1, Ge;
    {
      var U = typeof WeakMap == "function" ? WeakMap : Map;
      Ge = new U();
    }
    function de(l, h) {
      if (!l || Xe)
        return "";
      {
        var w = Ge.get(l);
        if (w !== void 0)
          return w;
      }
      var C;
      Xe = !0;
      var _ = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      var D;
      D = it.current, it.current = null, ce();
      try {
        if (h) {
          var L = function() {
            throw Error();
          };
          if (Object.defineProperty(L.prototype, "props", {
            set: function() {
              throw Error();
            }
          }), typeof Reflect == "object" && Reflect.construct) {
            try {
              Reflect.construct(L, []);
            } catch (ie) {
              C = ie;
            }
            Reflect.construct(l, [], L);
          } else {
            try {
              L.call();
            } catch (ie) {
              C = ie;
            }
            l.call(L.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (ie) {
            C = ie;
          }
          l();
        }
      } catch (ie) {
        if (ie && C && typeof ie.stack == "string") {
          for (var R = ie.stack.split(`
`), te = C.stack.split(`
`), B = R.length - 1, K = te.length - 1; B >= 1 && K >= 0 && R[B] !== te[K]; )
            K--;
          for (; B >= 1 && K >= 0; B--, K--)
            if (R[B] !== te[K]) {
              if (B !== 1 || K !== 1)
                do
                  if (B--, K--, K < 0 || R[B] !== te[K]) {
                    var fe = `
` + R[B].replace(" at new ", " at ");
                    return l.displayName && fe.includes("<anonymous>") && (fe = fe.replace("<anonymous>", l.displayName)), typeof l == "function" && Ge.set(l, fe), fe;
                  }
                while (B >= 1 && K >= 0);
              break;
            }
        }
      } finally {
        Xe = !1, it.current = D, In(), Error.prepareStackTrace = _;
      }
      var ze = l ? l.displayName || l.name : "", Fe = ze ? Ve(ze) : "";
      return typeof l == "function" && Ge.set(l, Fe), Fe;
    }
    function re(l, h, w) {
      return de(l, !1);
    }
    function Ye(l) {
      var h = l.prototype;
      return !!(h && h.isReactComponent);
    }
    function bt(l, h, w) {
      if (l == null)
        return "";
      if (typeof l == "function")
        return de(l, Ye(l));
      if (typeof l == "string")
        return Ve(l);
      switch (l) {
        case f:
          return Ve("Suspense");
        case c:
          return Ve("SuspenseList");
      }
      if (typeof l == "object")
        switch (l.$$typeof) {
          case u:
            return re(l.render);
          case d:
            return bt(l.type, h, w);
          case p: {
            var C = l, _ = C._payload, D = C._init;
            try {
              return bt(D(_), h, w);
            } catch {
            }
          }
        }
      return "";
    }
    var st = Object.prototype.hasOwnProperty, On = {}, Pn = N.ReactDebugCurrentFrame;
    function yt(l) {
      if (l) {
        var h = l._owner, w = bt(l.type, l._source, h ? h.type : null);
        Pn.setExtraStackFrame(w);
      } else
        Pn.setExtraStackFrame(null);
    }
    function Wr(l, h, w, C, _) {
      {
        var D = Function.call.bind(st);
        for (var L in l)
          if (D(l, L)) {
            var R = void 0;
            try {
              if (typeof l[L] != "function") {
                var te = Error((C || "React class") + ": " + w + " type `" + L + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof l[L] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                throw te.name = "Invariant Violation", te;
              }
              R = l[L](h, L, C, w, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
            } catch (B) {
              R = B;
            }
            R && !(R instanceof Error) && (yt(_), y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", C || "React class", w, L, typeof R), yt(null)), R instanceof Error && !(R.message in On) && (On[R.message] = !0, yt(_), y("Failed %s type: %s", w, R.message), yt(null));
          }
      }
    }
    var Kr = Array.isArray;
    function Kt(l) {
      return Kr(l);
    }
    function Vr(l) {
      {
        var h = typeof Symbol == "function" && Symbol.toStringTag, w = h && l[Symbol.toStringTag] || l.constructor.name || "Object";
        return w;
      }
    }
    function Xr(l) {
      try {
        return An(l), !1;
      } catch {
        return !0;
      }
    }
    function An(l) {
      return "" + l;
    }
    function Rn(l) {
      if (Xr(l))
        return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.", Vr(l)), An(l);
    }
    var ot = N.ReactCurrentOwner, Gr = {
      key: !0,
      ref: !0,
      __self: !0,
      __source: !0
    }, Nn, Ln, Vt;
    Vt = {};
    function Yr(l) {
      if (st.call(l, "ref")) {
        var h = Object.getOwnPropertyDescriptor(l, "ref").get;
        if (h && h.isReactWarning)
          return !1;
      }
      return l.ref !== void 0;
    }
    function qr(l) {
      if (st.call(l, "key")) {
        var h = Object.getOwnPropertyDescriptor(l, "key").get;
        if (h && h.isReactWarning)
          return !1;
      }
      return l.key !== void 0;
    }
    function zr(l, h) {
      if (typeof l.ref == "string" && ot.current && h && ot.current.stateNode !== h) {
        var w = Z(ot.current.type);
        Vt[w] || (y('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', Z(ot.current.type), l.ref), Vt[w] = !0);
      }
    }
    function Zr(l, h) {
      {
        var w = function() {
          Nn || (Nn = !0, y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", h));
        };
        w.isReactWarning = !0, Object.defineProperty(l, "key", {
          get: w,
          configurable: !0
        });
      }
    }
    function Jr(l, h) {
      {
        var w = function() {
          Ln || (Ln = !0, y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", h));
        };
        w.isReactWarning = !0, Object.defineProperty(l, "ref", {
          get: w,
          configurable: !0
        });
      }
    }
    var Qr = function(l, h, w, C, _, D, L) {
      var R = {
        // This tag allows us to uniquely identify this as a React Element
        $$typeof: t,
        // Built-in properties that belong on the element
        type: l,
        key: h,
        ref: w,
        props: L,
        // Record the component responsible for creating this element.
        _owner: D
      };
      return R._store = {}, Object.defineProperty(R._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: !1
      }), Object.defineProperty(R, "_self", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: C
      }), Object.defineProperty(R, "_source", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: _
      }), Object.freeze && (Object.freeze(R.props), Object.freeze(R)), R;
    };
    function ei(l, h, w, C, _) {
      {
        var D, L = {}, R = null, te = null;
        w !== void 0 && (Rn(w), R = "" + w), qr(h) && (Rn(h.key), R = "" + h.key), Yr(h) && (te = h.ref, zr(h, _));
        for (D in h)
          st.call(h, D) && !Gr.hasOwnProperty(D) && (L[D] = h[D]);
        if (l && l.defaultProps) {
          var B = l.defaultProps;
          for (D in B)
            L[D] === void 0 && (L[D] = B[D]);
        }
        if (R || te) {
          var K = typeof l == "function" ? l.displayName || l.name || "Unknown" : l;
          R && Zr(L, K), te && Jr(L, K);
        }
        return Qr(l, R, te, _, C, ot.current, L);
      }
    }
    var Xt = N.ReactCurrentOwner, Mn = N.ReactDebugCurrentFrame;
    function qe(l) {
      if (l) {
        var h = l._owner, w = bt(l.type, l._source, h ? h.type : null);
        Mn.setExtraStackFrame(w);
      } else
        Mn.setExtraStackFrame(null);
    }
    var Gt;
    Gt = !1;
    function Yt(l) {
      return typeof l == "object" && l !== null && l.$$typeof === t;
    }
    function _n() {
      {
        if (Xt.current) {
          var l = Z(Xt.current.type);
          if (l)
            return `

Check the render method of \`` + l + "`.";
        }
        return "";
      }
    }
    function ti(l) {
      return "";
    }
    var $n = {};
    function ni(l) {
      {
        var h = _n();
        if (!h) {
          var w = typeof l == "string" ? l : l.displayName || l.name;
          w && (h = `

Check the top-level render call using <` + w + ">.");
        }
        return h;
      }
    }
    function Dn(l, h) {
      {
        if (!l._store || l._store.validated || l.key != null)
          return;
        l._store.validated = !0;
        var w = ni(h);
        if ($n[w])
          return;
        $n[w] = !0;
        var C = "";
        l && l._owner && l._owner !== Xt.current && (C = " It was passed a child from " + Z(l._owner.type) + "."), qe(l), y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', w, C), qe(null);
      }
    }
    function jn(l, h) {
      {
        if (typeof l != "object")
          return;
        if (Kt(l))
          for (var w = 0; w < l.length; w++) {
            var C = l[w];
            Yt(C) && Dn(C, h);
          }
        else if (Yt(l))
          l._store && (l._store.validated = !0);
        else if (l) {
          var _ = b(l);
          if (typeof _ == "function" && _ !== l.entries)
            for (var D = _.call(l), L; !(L = D.next()).done; )
              Yt(L.value) && Dn(L.value, h);
        }
      }
    }
    function ri(l) {
      {
        var h = l.type;
        if (h == null || typeof h == "string")
          return;
        var w;
        if (typeof h == "function")
          w = h.propTypes;
        else if (typeof h == "object" && (h.$$typeof === u || // Note: Memo only checks outer props here.
        // Inner props are checked in the reconciler.
        h.$$typeof === d))
          w = h.propTypes;
        else
          return;
        if (w) {
          var C = Z(h);
          Wr(w, l.props, "prop", C, l);
        } else if (h.PropTypes !== void 0 && !Gt) {
          Gt = !0;
          var _ = Z(h);
          y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", _ || "Unknown");
        }
        typeof h.getDefaultProps == "function" && !h.getDefaultProps.isReactClassApproved && y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
      }
    }
    function ii(l) {
      {
        for (var h = Object.keys(l.props), w = 0; w < h.length; w++) {
          var C = h[w];
          if (C !== "children" && C !== "key") {
            qe(l), y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", C), qe(null);
            break;
          }
        }
        l.ref !== null && (qe(l), y("Invalid attribute `ref` supplied to `React.Fragment`."), qe(null));
      }
    }
    var kn = {};
    function Fn(l, h, w, C, _, D) {
      {
        var L = Te(l);
        if (!L) {
          var R = "";
          (l === void 0 || typeof l == "object" && l !== null && Object.keys(l).length === 0) && (R += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
          var te = ti();
          te ? R += te : R += _n();
          var B;
          l === null ? B = "null" : Kt(l) ? B = "array" : l !== void 0 && l.$$typeof === t ? (B = "<" + (Z(l.type) || "Unknown") + " />", R = " Did you accidentally export a JSX literal instead of a component?") : B = typeof l, y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", B, R);
        }
        var K = ei(l, h, w, _, D);
        if (K == null)
          return K;
        if (L) {
          var fe = h.children;
          if (fe !== void 0)
            if (C)
              if (Kt(fe)) {
                for (var ze = 0; ze < fe.length; ze++)
                  jn(fe[ze], l);
                Object.freeze && Object.freeze(fe);
              } else
                y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
            else
              jn(fe, l);
        }
        if (st.call(h, "key")) {
          var Fe = Z(l), ie = Object.keys(h).filter(function(ci) {
            return ci !== "key";
          }), qt = ie.length > 0 ? "{key: someKey, " + ie.join(": ..., ") + ": ...}" : "{key: someKey}";
          if (!kn[Fe + qt]) {
            var ui = ie.length > 0 ? "{" + ie.join(": ..., ") + ": ...}" : "{}";
            y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`, qt, Fe, ui, Fe), kn[Fe + qt] = !0;
          }
        }
        return l === r ? ii(K) : ri(K), K;
      }
    }
    function ai(l, h, w) {
      return Fn(l, h, w, !0);
    }
    function si(l, h, w) {
      return Fn(l, h, w, !1);
    }
    var oi = si, li = ai;
    ct.Fragment = r, ct.jsx = oi, ct.jsxs = li;
  }()), ct;
}
dr.env.NODE_ENV === "production" ? cn.exports = zi() : cn.exports = Zi();
var E = cn.exports;
function Ji() {
  const [e, t] = $(!1);
  return F(() => {
    t(!0);
  }, []), e;
}
const fr = "wallie";
function pr() {
  return typeof window < "u";
}
function Qi(e) {
  if (!pr())
    return null;
  typeof window > "u" && console.warn(
    `Attempted to read local storage key ${e} even though environment is not a browser.`
  );
  const t = `${fr}_${e}`;
  try {
    const n = window.localStorage.getItem(t);
    return n != null ? JSON.parse(n) : null;
  } catch (n) {
    return console.error(`Error retrieving ${t} from localStorage`, n), null;
  }
}
function Yn(e, t) {
  if (!pr())
    return;
  typeof window > "u" && console.warn(
    `Attempted to set local storage key ${e} even though environment is not a browser.`
  );
  const n = `${fr}_${e}`;
  try {
    t ? window.localStorage.setItem(n, JSON.stringify(t)) : window.localStorage.removeItem(n);
  } catch (r) {
    console.error(`Error saving ${n} to localStorage`, r);
  }
}
function Et(e, t, n = {}) {
  const { initializeWithValue: r = !0 } = n, i = H(() => {
    const u = Qi(e);
    return u || (Yn(e, t), t);
  }, [t, e]), [a, s] = $(() => r ? i() : t), o = H(
    (u) => {
      Yn(e, u), s(u);
    },
    [e]
  );
  return F(() => {
    s(i());
  }, [e]), [a, o];
}
var Rt = /* @__PURE__ */ ((e) => (e.MAINNET = "mainnet", e.TESTNET = "testnet", e.SIGNET = "signet", e))(Rt || {}), I = /* @__PURE__ */ ((e) => (e.UNISAT = "unisat", e.XVERSE = "xverse", e.MAGICEDEN = "magiceden", e.LEATHER = "leather", e.OKX = "okx", e))(I || {});
const Ze = {
  payments: null,
  ordinals: null
}, hr = we(void 0), ea = "address", ta = "wallet", na = "publicKey", ra = "format";
function dl({
  children: e,
  initialNetwork: t,
  ssr: n = !1
}) {
  if (!t)
    throw new Error("Initial network cannot be empty");
  const [r, i] = $(t), [a, s] = Et(
    ea,
    Ze,
    { initializeWithValue: !n }
  ), [o, u] = Et(ta, null, {
    initializeWithValue: !n
  }), [f, c] = Et(
    na,
    Ze,
    { initializeWithValue: !n }
  ), [d, p] = Et(
    ra,
    Ze,
    { initializeWithValue: !n }
  ), [m, v] = $(!1), g = H(() => v(!0), []), b = H(() => v(!1), []), N = H(() => {
    s(Ze), c(Ze), p(Ze), u(null);
  }, [s, p, c, u]), y = V(
    () => ({
      address: a,
      updateAddress: s,
      publicKey: f,
      updatePublicKey: c,
      network: r,
      updateNetwork: i,
      wallet: o,
      updateWallet: u,
      isModalOpen: m,
      openModal: g,
      closeModal: b,
      format: d,
      updateFormat: p,
      disconnectWallet: N
    }),
    [
      a,
      s,
      f,
      c,
      r,
      i,
      o,
      u,
      m,
      g,
      b,
      d,
      p,
      N
    ]
  );
  return F(() => {
    i(t);
  }, [t]), /* @__PURE__ */ E.jsx(hr.Provider, { value: y, children: e });
}
function Ee() {
  const e = ae(hr);
  if (!e)
    throw new Error("useWallie must be used within WallieProvider");
  return e;
}
var ia = Object.defineProperty, aa = (e, t, n) => t in e ? ia(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Zt = (e, t, n) => (aa(e, typeof t != "symbol" ? t + "" : t, n), n);
let sa = class {
  constructor() {
    Zt(this, "current", this.detect()), Zt(this, "handoffState", "pending"), Zt(this, "currentId", 0);
  }
  set(t) {
    this.current !== t && (this.handoffState = "pending", this.currentId = 0, this.current = t);
  }
  reset() {
    this.set(this.detect());
  }
  nextId() {
    return ++this.currentId;
  }
  get isServer() {
    return this.current === "server";
  }
  get isClient() {
    return this.current === "client";
  }
  detect() {
    return typeof window > "u" || typeof document > "u" ? "server" : "client";
  }
  handoff() {
    this.handoffState === "pending" && (this.handoffState = "complete");
  }
  get isHandoffComplete() {
    return this.handoffState === "complete";
  }
}, Oe = new sa(), Y = (e, t) => {
  Oe.isServer ? F(e, t) : pi(e, t);
};
function Pe(e) {
  let t = M(e);
  return Y(() => {
    t.current = e;
  }, [e]), t;
}
let A = function(e) {
  let t = Pe(e);
  return O.useCallback((...n) => t.current(...n), [t]);
};
function jt(e) {
  typeof queueMicrotask == "function" ? queueMicrotask(e) : Promise.resolve().then(e).catch((t) => setTimeout(() => {
    throw t;
  }));
}
function ge() {
  let e = [], t = { addEventListener(n, r, i, a) {
    return n.addEventListener(r, i, a), t.add(() => n.removeEventListener(r, i, a));
  }, requestAnimationFrame(...n) {
    let r = requestAnimationFrame(...n);
    return t.add(() => cancelAnimationFrame(r));
  }, nextFrame(...n) {
    return t.requestAnimationFrame(() => t.requestAnimationFrame(...n));
  }, setTimeout(...n) {
    let r = setTimeout(...n);
    return t.add(() => clearTimeout(r));
  }, microTask(...n) {
    let r = { current: !0 };
    return jt(() => {
      r.current && n[0]();
    }), t.add(() => {
      r.current = !1;
    });
  }, style(n, r, i) {
    let a = n.style.getPropertyValue(r);
    return Object.assign(n.style, { [r]: i }), this.add(() => {
      Object.assign(n.style, { [r]: a });
    });
  }, group(n) {
    let r = ge();
    return n(r), this.add(() => r.dispose());
  }, add(n) {
    return e.push(n), () => {
      let r = e.indexOf(n);
      if (r >= 0) for (let i of e.splice(r, 1)) i();
    };
  }, dispose() {
    for (let n of e.splice(0)) n();
  } };
  return t;
}
function mt() {
  let [e] = $(ge);
  return F(() => () => e.dispose(), [e]), e;
}
function oa() {
  let e = typeof document > "u";
  return "useSyncExternalStore" in $e ? ((t) => t.useSyncExternalStore)($e)(() => () => {
  }, () => !1, () => !e) : !1;
}
function tt() {
  let e = oa(), [t, n] = $e.useState(Oe.isHandoffComplete);
  return t && Oe.isHandoffComplete === !1 && n(!1), $e.useEffect(() => {
    t !== !0 && n(!0);
  }, [t]), $e.useEffect(() => Oe.handoff(), []), e ? !1 : t;
}
var qn;
let Re = (qn = O.useId) != null ? qn : function() {
  let e = tt(), [t, n] = O.useState(e ? () => Oe.nextId() : null);
  return Y(() => {
    t === null && n(Oe.nextId());
  }, [t]), t != null ? "" + t : void 0;
};
function G(e, t, ...n) {
  if (e in t) {
    let i = t[e];
    return typeof i == "function" ? i(...n) : i;
  }
  let r = new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((i) => `"${i}"`).join(", ")}.`);
  throw Error.captureStackTrace && Error.captureStackTrace(r, G), r;
}
function kt(e) {
  return Oe.isServer ? null : e instanceof Node ? e.ownerDocument : e != null && e.hasOwnProperty("current") && e.current instanceof Node ? e.current.ownerDocument : document;
}
let dn = ["[contentEditable=true]", "[tabindex]", "a[href]", "area[href]", "button:not([disabled])", "iframe", "input:not([disabled])", "select:not([disabled])", "textarea:not([disabled])"].map((e) => `${e}:not([tabindex='-1'])`).join(",");
var Se = ((e) => (e[e.First = 1] = "First", e[e.Previous = 2] = "Previous", e[e.Next = 4] = "Next", e[e.Last = 8] = "Last", e[e.WrapAround = 16] = "WrapAround", e[e.NoScroll = 32] = "NoScroll", e))(Se || {}), mr = ((e) => (e[e.Error = 0] = "Error", e[e.Overflow = 1] = "Overflow", e[e.Success = 2] = "Success", e[e.Underflow = 3] = "Underflow", e))(mr || {}), la = ((e) => (e[e.Previous = -1] = "Previous", e[e.Next = 1] = "Next", e))(la || {});
function gr(e = document.body) {
  return e == null ? [] : Array.from(e.querySelectorAll(dn)).sort((t, n) => Math.sign((t.tabIndex || Number.MAX_SAFE_INTEGER) - (n.tabIndex || Number.MAX_SAFE_INTEGER)));
}
var bn = ((e) => (e[e.Strict = 0] = "Strict", e[e.Loose = 1] = "Loose", e))(bn || {});
function yn(e, t = 0) {
  var n;
  return e === ((n = kt(e)) == null ? void 0 : n.body) ? !1 : G(t, { 0() {
    return e.matches(dn);
  }, 1() {
    let r = e;
    for (; r !== null; ) {
      if (r.matches(dn)) return !0;
      r = r.parentElement;
    }
    return !1;
  } });
}
function wr(e) {
  let t = kt(e);
  ge().nextFrame(() => {
    t && !yn(t.activeElement, 0) && De(e);
  });
}
var ua = ((e) => (e[e.Keyboard = 0] = "Keyboard", e[e.Mouse = 1] = "Mouse", e))(ua || {});
typeof window < "u" && typeof document < "u" && (document.addEventListener("keydown", (e) => {
  e.metaKey || e.altKey || e.ctrlKey || (document.documentElement.dataset.headlessuiFocusVisible = "");
}, !0), document.addEventListener("click", (e) => {
  e.detail === 1 ? delete document.documentElement.dataset.headlessuiFocusVisible : e.detail === 0 && (document.documentElement.dataset.headlessuiFocusVisible = "");
}, !0));
function De(e) {
  e == null || e.focus({ preventScroll: !0 });
}
let ca = ["textarea", "input"].join(",");
function da(e) {
  var t, n;
  return (n = (t = e == null ? void 0 : e.matches) == null ? void 0 : t.call(e, ca)) != null ? n : !1;
}
function vr(e, t = (n) => n) {
  return e.slice().sort((n, r) => {
    let i = t(n), a = t(r);
    if (i === null || a === null) return 0;
    let s = i.compareDocumentPosition(a);
    return s & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : s & Node.DOCUMENT_POSITION_PRECEDING ? 1 : 0;
  });
}
function fa(e, t) {
  return ht(gr(), t, { relativeTo: e });
}
function ht(e, t, { sorted: n = !0, relativeTo: r = null, skipElements: i = [] } = {}) {
  let a = Array.isArray(e) ? e.length > 0 ? e[0].ownerDocument : document : e.ownerDocument, s = Array.isArray(e) ? n ? vr(e) : e : gr(e);
  i.length > 0 && s.length > 1 && (s = s.filter((m) => !i.includes(m))), r = r ?? a.activeElement;
  let o = (() => {
    if (t & 5) return 1;
    if (t & 10) return -1;
    throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last");
  })(), u = (() => {
    if (t & 1) return 0;
    if (t & 2) return Math.max(0, s.indexOf(r)) - 1;
    if (t & 4) return Math.max(0, s.indexOf(r)) + 1;
    if (t & 8) return s.length - 1;
    throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last");
  })(), f = t & 32 ? { preventScroll: !0 } : {}, c = 0, d = s.length, p;
  do {
    if (c >= d || c + d <= 0) return 0;
    let m = u + c;
    if (t & 16) m = (m + d) % d;
    else {
      if (m < 0) return 3;
      if (m >= d) return 1;
    }
    p = s[m], p == null || p.focus(f), c += o;
  } while (p !== a.activeElement);
  return t & 6 && da(p) && p.select(), 2;
}
function br() {
  return /iPhone/gi.test(window.navigator.platform) || /Mac/gi.test(window.navigator.platform) && window.navigator.maxTouchPoints > 0;
}
function pa() {
  return /Android/gi.test(window.navigator.userAgent);
}
function ha() {
  return br() || pa();
}
function Tt(e, t, n) {
  let r = Pe(t);
  F(() => {
    function i(a) {
      r.current(a);
    }
    return document.addEventListener(e, i, n), () => document.removeEventListener(e, i, n);
  }, [e, n]);
}
function yr(e, t, n) {
  let r = Pe(t);
  F(() => {
    function i(a) {
      r.current(a);
    }
    return window.addEventListener(e, i, n), () => window.removeEventListener(e, i, n);
  }, [e, n]);
}
function Er(e, t, n = !0) {
  let r = M(!1);
  F(() => {
    requestAnimationFrame(() => {
      r.current = n;
    });
  }, [n]);
  function i(s, o) {
    if (!r.current || s.defaultPrevented) return;
    let u = o(s);
    if (u === null || !u.getRootNode().contains(u) || !u.isConnected) return;
    let f = function c(d) {
      return typeof d == "function" ? c(d()) : Array.isArray(d) || d instanceof Set ? d : [d];
    }(e);
    for (let c of f) {
      if (c === null) continue;
      let d = c instanceof HTMLElement ? c : c.current;
      if (d != null && d.contains(u) || s.composed && s.composedPath().includes(d)) return;
    }
    return !yn(u, bn.Loose) && u.tabIndex !== -1 && s.preventDefault(), t(s, u);
  }
  let a = M(null);
  Tt("pointerdown", (s) => {
    var o, u;
    r.current && (a.current = ((u = (o = s.composedPath) == null ? void 0 : o.call(s)) == null ? void 0 : u[0]) || s.target);
  }, !0), Tt("mousedown", (s) => {
    var o, u;
    r.current && (a.current = ((u = (o = s.composedPath) == null ? void 0 : o.call(s)) == null ? void 0 : u[0]) || s.target);
  }, !0), Tt("click", (s) => {
    ha() || a.current && (i(s, () => a.current), a.current = null);
  }, !0), Tt("touchend", (s) => i(s, () => s.target instanceof HTMLElement ? s.target : null), !0), yr("blur", (s) => i(s, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), !0);
}
function nt(...e) {
  return V(() => kt(...e), [...e]);
}
function zn(e) {
  var t;
  if (e.type) return e.type;
  let n = (t = e.as) != null ? t : "button";
  if (typeof n == "string" && n.toLowerCase() === "button") return "button";
}
function ma(e, t) {
  let [n, r] = $(() => zn(e));
  return Y(() => {
    r(zn(e));
  }, [e.type, e.as]), Y(() => {
    n || t.current && t.current instanceof HTMLButtonElement && !t.current.hasAttribute("type") && r("button");
  }, [n, t]), n;
}
let Tr = Symbol();
function ga(e, t = !0) {
  return Object.assign(e, { [Tr]: t });
}
function ne(...e) {
  let t = M(e);
  F(() => {
    t.current = e;
  }, [e]);
  let n = A((r) => {
    for (let i of t.current) i != null && (typeof i == "function" ? i(r) : i.current = r);
  });
  return e.every((r) => r == null || (r == null ? void 0 : r[Tr])) ? void 0 : n;
}
function Zn(e) {
  return [e.screenX, e.screenY];
}
function wa() {
  let e = M([-1, -1]);
  return { wasMoved(t) {
    let n = Zn(t);
    return e.current[0] === n[0] && e.current[1] === n[1] ? !1 : (e.current = n, !0);
  }, update(t) {
    e.current = Zn(t);
  } };
}
function va({ container: e, accept: t, walk: n, enabled: r = !0 }) {
  let i = M(t), a = M(n);
  F(() => {
    i.current = t, a.current = n;
  }, [t, n]), Y(() => {
    if (!e || !r) return;
    let s = kt(e);
    if (!s) return;
    let o = i.current, u = a.current, f = Object.assign((d) => o(d), { acceptNode: o }), c = s.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, f, !1);
    for (; c.nextNode(); ) u(c.currentNode);
  }, [e, r, i, a]);
}
function En(e, t) {
  let n = M([]), r = A(e);
  F(() => {
    let i = [...n.current];
    for (let [a, s] of t.entries()) if (n.current[a] !== s) {
      let o = r(t, i);
      return n.current = t, o;
    }
  }, [r, ...t]);
}
function _t(...e) {
  return Array.from(new Set(e.flatMap((t) => typeof t == "string" ? t.split(" ") : []))).filter(Boolean).join(" ");
}
var et = ((e) => (e[e.None = 0] = "None", e[e.RenderStrategy = 1] = "RenderStrategy", e[e.Static = 2] = "Static", e))(et || {}), _e = ((e) => (e[e.Unmount = 0] = "Unmount", e[e.Hidden = 1] = "Hidden", e))(_e || {});
function ee({ ourProps: e, theirProps: t, slot: n, defaultTag: r, features: i, visible: a = !0, name: s, mergeRefs: o }) {
  o = o ?? ba;
  let u = xr(t, e);
  if (a) return xt(u, n, r, s, o);
  let f = i ?? 0;
  if (f & 2) {
    let { static: c = !1, ...d } = u;
    if (c) return xt(d, n, r, s, o);
  }
  if (f & 1) {
    let { unmount: c = !0, ...d } = u;
    return G(c ? 0 : 1, { 0() {
      return null;
    }, 1() {
      return xt({ ...d, hidden: !0, style: { display: "none" } }, n, r, s, o);
    } });
  }
  return xt(u, n, r, s, o);
}
function xt(e, t = {}, n, r, i) {
  let { as: a = n, children: s, refName: o = "ref", ...u } = Jt(e, ["unmount", "static"]), f = e.ref !== void 0 ? { [o]: e.ref } : {}, c = typeof s == "function" ? s(t) : s;
  "className" in u && u.className && typeof u.className == "function" && (u.className = u.className(t));
  let d = {};
  if (t) {
    let p = !1, m = [];
    for (let [v, g] of Object.entries(t)) typeof g == "boolean" && (p = !0), g === !0 && m.push(v);
    p && (d["data-headlessui-state"] = m.join(" "));
  }
  if (a === le && Object.keys(Jn(u)).length > 0) {
    if (!mi(c) || Array.isArray(c) && c.length > 1) throw new Error(['Passing props on "Fragment"!', "", `The current component <${r} /> is rendering a "Fragment".`, "However we need to passthrough the following props:", Object.keys(u).map((g) => `  - ${g}`).join(`
`), "", "You can apply a few solutions:", ['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".', "Render a single element as the child so that we can forward the props onto that element."].map((g) => `  - ${g}`).join(`
`)].join(`
`));
    let p = c.props, m = typeof (p == null ? void 0 : p.className) == "function" ? (...g) => _t(p == null ? void 0 : p.className(...g), u.className) : _t(p == null ? void 0 : p.className, u.className), v = m ? { className: m } : {};
    return gi(c, Object.assign({}, xr(c.props, Jn(Jt(u, ["ref"]))), d, f, { ref: i(c.ref, f.ref) }, v));
  }
  return wi(a, Object.assign({}, Jt(u, ["ref"]), a !== le && f, a !== le && d), c);
}
function ba(...e) {
  return e.every((t) => t == null) ? void 0 : (t) => {
    for (let n of e) n != null && (typeof n == "function" ? n(t) : n.current = t);
  };
}
function xr(...e) {
  if (e.length === 0) return {};
  if (e.length === 1) return e[0];
  let t = {}, n = {};
  for (let r of e) for (let i in r) i.startsWith("on") && typeof r[i] == "function" ? (n[i] != null || (n[i] = []), n[i].push(r[i])) : t[i] = r[i];
  if (t.disabled || t["aria-disabled"]) return Object.assign(t, Object.fromEntries(Object.keys(n).map((r) => [r, void 0])));
  for (let r in n) Object.assign(t, { [r](i, ...a) {
    let s = n[r];
    for (let o of s) {
      if ((i instanceof Event || (i == null ? void 0 : i.nativeEvent) instanceof Event) && i.defaultPrevented) return;
      o(i, ...a);
    }
  } });
  return t;
}
function z(e) {
  var t;
  return Object.assign(hi(e), { displayName: (t = e.displayName) != null ? t : e.name });
}
function Jn(e) {
  let t = Object.assign({}, e);
  for (let n in t) t[n] === void 0 && delete t[n];
  return t;
}
function Jt(e, t = []) {
  let n = Object.assign({}, e);
  for (let r of t) r in n && delete n[r];
  return n;
}
let ya = "div";
var $t = ((e) => (e[e.None = 1] = "None", e[e.Focusable = 2] = "Focusable", e[e.Hidden = 4] = "Hidden", e))($t || {});
function Ea(e, t) {
  var n;
  let { features: r = 1, ...i } = e, a = { ref: t, "aria-hidden": (r & 2) === 2 ? !0 : (n = i["aria-hidden"]) != null ? n : void 0, hidden: (r & 4) === 4 ? !0 : void 0, style: { position: "fixed", top: 1, left: 1, width: 1, height: 0, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", borderWidth: "0", ...(r & 4) === 4 && (r & 2) !== 2 && { display: "none" } } };
  return ee({ ourProps: a, theirProps: i, slot: {}, defaultTag: ya, name: "Hidden" });
}
let fn = z(Ea), Tn = we(null);
Tn.displayName = "OpenClosedContext";
var q = ((e) => (e[e.Open = 1] = "Open", e[e.Closed = 2] = "Closed", e[e.Closing = 4] = "Closing", e[e.Opening = 8] = "Opening", e))(q || {});
function Ft() {
  return ae(Tn);
}
function Cr({ value: e, children: t }) {
  return O.createElement(Tn.Provider, { value: e }, t);
}
function Ta(e) {
  function t() {
    document.readyState !== "loading" && (e(), document.removeEventListener("DOMContentLoaded", t));
  }
  typeof window < "u" && typeof document < "u" && (document.addEventListener("DOMContentLoaded", t), t());
}
let Me = [];
Ta(() => {
  function e(t) {
    t.target instanceof HTMLElement && t.target !== document.body && Me[0] !== t.target && (Me.unshift(t.target), Me = Me.filter((n) => n != null && n.isConnected), Me.splice(10));
  }
  window.addEventListener("click", e, { capture: !0 }), window.addEventListener("mousedown", e, { capture: !0 }), window.addEventListener("focus", e, { capture: !0 }), document.body.addEventListener("click", e, { capture: !0 }), document.body.addEventListener("mousedown", e, { capture: !0 }), document.body.addEventListener("focus", e, { capture: !0 });
});
function Sr(e) {
  let t = e.parentElement, n = null;
  for (; t && !(t instanceof HTMLFieldSetElement); ) t instanceof HTMLLegendElement && (n = t), t = t.parentElement;
  let r = (t == null ? void 0 : t.getAttribute("disabled")) === "";
  return r && xa(n) ? !1 : r;
}
function xa(e) {
  if (!e) return !1;
  let t = e.previousElementSibling;
  for (; t !== null; ) {
    if (t instanceof HTMLLegendElement) return !1;
    t = t.previousElementSibling;
  }
  return !0;
}
function Ca(e) {
  throw new Error("Unexpected object: " + e);
}
var me = ((e) => (e[e.First = 0] = "First", e[e.Previous = 1] = "Previous", e[e.Next = 2] = "Next", e[e.Last = 3] = "Last", e[e.Specific = 4] = "Specific", e[e.Nothing = 5] = "Nothing", e))(me || {});
function Sa(e, t) {
  let n = t.resolveItems();
  if (n.length <= 0) return null;
  let r = t.resolveActiveIndex(), i = r ?? -1;
  switch (e.focus) {
    case 0: {
      for (let a = 0; a < n.length; ++a) if (!t.resolveDisabled(n[a], a, n)) return a;
      return r;
    }
    case 1: {
      for (let a = i - 1; a >= 0; --a) if (!t.resolveDisabled(n[a], a, n)) return a;
      return r;
    }
    case 2: {
      for (let a = i + 1; a < n.length; ++a) if (!t.resolveDisabled(n[a], a, n)) return a;
      return r;
    }
    case 3: {
      for (let a = n.length - 1; a >= 0; --a) if (!t.resolveDisabled(n[a], a, n)) return a;
      return r;
    }
    case 4: {
      for (let a = 0; a < n.length; ++a) if (t.resolveId(n[a], a, n) === e.id) return a;
      return r;
    }
    case 5:
      return null;
    default:
      Ca(e);
  }
}
var X = ((e) => (e.Space = " ", e.Enter = "Enter", e.Escape = "Escape", e.Backspace = "Backspace", e.Delete = "Delete", e.ArrowLeft = "ArrowLeft", e.ArrowUp = "ArrowUp", e.ArrowRight = "ArrowRight", e.ArrowDown = "ArrowDown", e.Home = "Home", e.End = "End", e.PageUp = "PageUp", e.PageDown = "PageDown", e.Tab = "Tab", e))(X || {});
function Ir(e, t, n, r) {
  let i = Pe(n);
  F(() => {
    e = e ?? window;
    function a(s) {
      i.current(s);
    }
    return e.addEventListener(t, a, r), () => e.removeEventListener(t, a, r);
  }, [e, t, r]);
}
function gt() {
  let e = M(!1);
  return Y(() => (e.current = !0, () => {
    e.current = !1;
  }), []), e;
}
function Or(e) {
  let t = A(e), n = M(!1);
  F(() => (n.current = !1, () => {
    n.current = !0, jt(() => {
      n.current && t();
    });
  }), [t]);
}
var pt = ((e) => (e[e.Forwards = 0] = "Forwards", e[e.Backwards = 1] = "Backwards", e))(pt || {});
function Ia() {
  let e = M(0);
  return yr("keydown", (t) => {
    t.key === "Tab" && (e.current = t.shiftKey ? 1 : 0);
  }, !0), e;
}
function Pr(e) {
  if (!e) return /* @__PURE__ */ new Set();
  if (typeof e == "function") return new Set(e());
  let t = /* @__PURE__ */ new Set();
  for (let n of e.current) n.current instanceof HTMLElement && t.add(n.current);
  return t;
}
let Oa = "div";
var Ar = ((e) => (e[e.None = 1] = "None", e[e.InitialFocus = 2] = "InitialFocus", e[e.TabLock = 4] = "TabLock", e[e.FocusLock = 8] = "FocusLock", e[e.RestoreFocus = 16] = "RestoreFocus", e[e.All = 30] = "All", e))(Ar || {});
function Pa(e, t) {
  let n = M(null), r = ne(n, t), { initialFocus: i, containers: a, features: s = 30, ...o } = e;
  tt() || (s = 1);
  let u = nt(n);
  Na({ ownerDocument: u }, !!(s & 16));
  let f = La({ ownerDocument: u, container: n, initialFocus: i }, !!(s & 2));
  Ma({ ownerDocument: u, container: n, containers: a, previousActiveElement: f }, !!(s & 8));
  let c = Ia(), d = A((g) => {
    let b = n.current;
    b && ((N) => N())(() => {
      G(c.current, { [pt.Forwards]: () => {
        ht(b, Se.First, { skipElements: [g.relatedTarget] });
      }, [pt.Backwards]: () => {
        ht(b, Se.Last, { skipElements: [g.relatedTarget] });
      } });
    });
  }), p = mt(), m = M(!1), v = { ref: r, onKeyDown(g) {
    g.key == "Tab" && (m.current = !0, p.requestAnimationFrame(() => {
      m.current = !1;
    }));
  }, onBlur(g) {
    let b = Pr(a);
    n.current instanceof HTMLElement && b.add(n.current);
    let N = g.relatedTarget;
    N instanceof HTMLElement && N.dataset.headlessuiFocusGuard !== "true" && (Rr(b, N) || (m.current ? ht(n.current, G(c.current, { [pt.Forwards]: () => Se.Next, [pt.Backwards]: () => Se.Previous }) | Se.WrapAround, { relativeTo: g.target }) : g.target instanceof HTMLElement && De(g.target)));
  } };
  return O.createElement(O.Fragment, null, !!(s & 4) && O.createElement(fn, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: d, features: $t.Focusable }), ee({ ourProps: v, theirProps: o, defaultTag: Oa, name: "FocusTrap" }), !!(s & 4) && O.createElement(fn, { as: "button", type: "button", "data-headlessui-focus-guard": !0, onFocus: d, features: $t.Focusable }));
}
let Aa = z(Pa), dt = Object.assign(Aa, { features: Ar });
function Ra(e = !0) {
  let t = M(Me.slice());
  return En(([n], [r]) => {
    r === !0 && n === !1 && jt(() => {
      t.current.splice(0);
    }), r === !1 && n === !0 && (t.current = Me.slice());
  }, [e, Me, t]), A(() => {
    var n;
    return (n = t.current.find((r) => r != null && r.isConnected)) != null ? n : null;
  });
}
function Na({ ownerDocument: e }, t) {
  let n = Ra(t);
  En(() => {
    t || (e == null ? void 0 : e.activeElement) === (e == null ? void 0 : e.body) && De(n());
  }, [t]), Or(() => {
    t && De(n());
  });
}
function La({ ownerDocument: e, container: t, initialFocus: n }, r) {
  let i = M(null), a = gt();
  return En(() => {
    if (!r) return;
    let s = t.current;
    s && jt(() => {
      if (!a.current) return;
      let o = e == null ? void 0 : e.activeElement;
      if (n != null && n.current) {
        if ((n == null ? void 0 : n.current) === o) {
          i.current = o;
          return;
        }
      } else if (s.contains(o)) {
        i.current = o;
        return;
      }
      n != null && n.current ? De(n.current) : ht(s, Se.First) === mr.Error && console.warn("There are no focusable elements inside the <FocusTrap />"), i.current = e == null ? void 0 : e.activeElement;
    });
  }, [r]), i;
}
function Ma({ ownerDocument: e, container: t, containers: n, previousActiveElement: r }, i) {
  let a = gt();
  Ir(e == null ? void 0 : e.defaultView, "focus", (s) => {
    if (!i || !a.current) return;
    let o = Pr(n);
    t.current instanceof HTMLElement && o.add(t.current);
    let u = r.current;
    if (!u) return;
    let f = s.target;
    f && f instanceof HTMLElement ? Rr(o, f) ? (r.current = f, De(f)) : (s.preventDefault(), s.stopPropagation(), De(u)) : De(r.current);
  }, !0);
}
function Rr(e, t) {
  for (let n of e) if (n.contains(t)) return !0;
  return !1;
}
let Nr = we(!1);
function _a() {
  return ae(Nr);
}
function pn(e) {
  return O.createElement(Nr.Provider, { value: e.force }, e.children);
}
function $a(e) {
  let t = _a(), n = ae(Lr), r = nt(e), [i, a] = $(() => {
    if (!t && n !== null || Oe.isServer) return null;
    let s = r == null ? void 0 : r.getElementById("headlessui-portal-root");
    if (s) return s;
    if (r === null) return null;
    let o = r.createElement("div");
    return o.setAttribute("id", "headlessui-portal-root"), r.body.appendChild(o);
  });
  return F(() => {
    i !== null && (r != null && r.body.contains(i) || r == null || r.body.appendChild(i));
  }, [i, r]), F(() => {
    t || n !== null && a(n.current);
  }, [n, a, t]), i;
}
let Da = le;
function ja(e, t) {
  let n = e, r = M(null), i = ne(ga((c) => {
    r.current = c;
  }), t), a = nt(r), s = $a(r), [o] = $(() => {
    var c;
    return Oe.isServer ? null : (c = a == null ? void 0 : a.createElement("div")) != null ? c : null;
  }), u = ae(hn), f = tt();
  return Y(() => {
    !s || !o || s.contains(o) || (o.setAttribute("data-headlessui-portal", ""), s.appendChild(o));
  }, [s, o]), Y(() => {
    if (o && u) return u.register(o);
  }, [u, o]), Or(() => {
    var c;
    !s || !o || (o instanceof Node && s.contains(o) && s.removeChild(o), s.childNodes.length <= 0 && ((c = s.parentElement) == null || c.removeChild(s)));
  }), f ? !s || !o ? null : Hi(ee({ ourProps: { ref: i }, theirProps: n, defaultTag: Da, name: "Portal" }), o) : null;
}
let ka = le, Lr = we(null);
function Fa(e, t) {
  let { target: n, ...r } = e, i = { ref: ne(t) };
  return O.createElement(Lr.Provider, { value: n }, ee({ ourProps: i, theirProps: r, defaultTag: ka, name: "Popover.Group" }));
}
let hn = we(null);
function Ua() {
  let e = ae(hn), t = M([]), n = A((a) => (t.current.push(a), e && e.register(a), () => r(a))), r = A((a) => {
    let s = t.current.indexOf(a);
    s !== -1 && t.current.splice(s, 1), e && e.unregister(a);
  }), i = V(() => ({ register: n, unregister: r, portals: t }), [n, r, t]);
  return [t, V(() => function({ children: a }) {
    return O.createElement(hn.Provider, { value: i }, a);
  }, [i])];
}
let Ha = z(ja), Ba = z(Fa), mn = Object.assign(Ha, { Group: Ba });
function Wa(e, t) {
  return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t;
}
const Ka = typeof Object.is == "function" ? Object.is : Wa, { useState: Va, useEffect: Xa, useLayoutEffect: Ga, useDebugValue: Ya } = $e;
function qa(e, t, n) {
  const r = t(), [{ inst: i }, a] = Va({ inst: { value: r, getSnapshot: t } });
  return Ga(() => {
    i.value = r, i.getSnapshot = t, Qt(i) && a({ inst: i });
  }, [e, r, t]), Xa(() => (Qt(i) && a({ inst: i }), e(() => {
    Qt(i) && a({ inst: i });
  })), [e]), Ya(r), r;
}
function Qt(e) {
  const t = e.getSnapshot, n = e.value;
  try {
    const r = t();
    return !Ka(n, r);
  } catch {
    return !0;
  }
}
function za(e, t, n) {
  return t();
}
const Za = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", Ja = !Za, Qa = Ja ? za : qa, es = "useSyncExternalStore" in $e ? ((e) => e.useSyncExternalStore)($e) : Qa;
function ts(e) {
  return es(e.subscribe, e.getSnapshot, e.getSnapshot);
}
function ns(e, t) {
  let n = e(), r = /* @__PURE__ */ new Set();
  return { getSnapshot() {
    return n;
  }, subscribe(i) {
    return r.add(i), () => r.delete(i);
  }, dispatch(i, ...a) {
    let s = t[i].call(n, ...a);
    s && (n = s, r.forEach((o) => o()));
  } };
}
function rs() {
  let e;
  return { before({ doc: t }) {
    var n;
    let r = t.documentElement;
    e = ((n = t.defaultView) != null ? n : window).innerWidth - r.clientWidth;
  }, after({ doc: t, d: n }) {
    let r = t.documentElement, i = r.clientWidth - r.offsetWidth, a = e - i;
    n.style(r, "paddingRight", `${a}px`);
  } };
}
function is() {
  return br() ? { before({ doc: e, d: t, meta: n }) {
    function r(i) {
      return n.containers.flatMap((a) => a()).some((a) => a.contains(i));
    }
    t.microTask(() => {
      var i;
      if (window.getComputedStyle(e.documentElement).scrollBehavior !== "auto") {
        let o = ge();
        o.style(e.documentElement, "scrollBehavior", "auto"), t.add(() => t.microTask(() => o.dispose()));
      }
      let a = (i = window.scrollY) != null ? i : window.pageYOffset, s = null;
      t.addEventListener(e, "click", (o) => {
        if (o.target instanceof HTMLElement) try {
          let u = o.target.closest("a");
          if (!u) return;
          let { hash: f } = new URL(u.href), c = e.querySelector(f);
          c && !r(c) && (s = c);
        } catch {
        }
      }, !0), t.addEventListener(e, "touchstart", (o) => {
        if (o.target instanceof HTMLElement) if (r(o.target)) {
          let u = o.target;
          for (; u.parentElement && r(u.parentElement); ) u = u.parentElement;
          t.style(u, "overscrollBehavior", "contain");
        } else t.style(o.target, "touchAction", "none");
      }), t.addEventListener(e, "touchmove", (o) => {
        if (o.target instanceof HTMLElement) if (r(o.target)) {
          let u = o.target;
          for (; u.parentElement && u.dataset.headlessuiPortal !== "" && !(u.scrollHeight > u.clientHeight || u.scrollWidth > u.clientWidth); ) u = u.parentElement;
          u.dataset.headlessuiPortal === "" && o.preventDefault();
        } else o.preventDefault();
      }, { passive: !1 }), t.add(() => {
        var o;
        let u = (o = window.scrollY) != null ? o : window.pageYOffset;
        a !== u && window.scrollTo(0, a), s && s.isConnected && (s.scrollIntoView({ block: "nearest" }), s = null);
      });
    });
  } } : {};
}
function as() {
  return { before({ doc: e, d: t }) {
    t.style(e.documentElement, "overflow", "hidden");
  } };
}
function ss(e) {
  let t = {};
  for (let n of e) Object.assign(t, n(t));
  return t;
}
let He = ns(() => /* @__PURE__ */ new Map(), { PUSH(e, t) {
  var n;
  let r = (n = this.get(e)) != null ? n : { doc: e, count: 0, d: ge(), meta: /* @__PURE__ */ new Set() };
  return r.count++, r.meta.add(t), this.set(e, r), this;
}, POP(e, t) {
  let n = this.get(e);
  return n && (n.count--, n.meta.delete(t)), this;
}, SCROLL_PREVENT({ doc: e, d: t, meta: n }) {
  let r = { doc: e, d: t, meta: ss(n) }, i = [is(), rs(), as()];
  i.forEach(({ before: a }) => a == null ? void 0 : a(r)), i.forEach(({ after: a }) => a == null ? void 0 : a(r));
}, SCROLL_ALLOW({ d: e }) {
  e.dispose();
}, TEARDOWN({ doc: e }) {
  this.delete(e);
} });
He.subscribe(() => {
  let e = He.getSnapshot(), t = /* @__PURE__ */ new Map();
  for (let [n] of e) t.set(n, n.documentElement.style.overflow);
  for (let n of e.values()) {
    let r = t.get(n.doc) === "hidden", i = n.count !== 0;
    (i && !r || !i && r) && He.dispatch(n.count > 0 ? "SCROLL_PREVENT" : "SCROLL_ALLOW", n), n.count === 0 && He.dispatch("TEARDOWN", n);
  }
});
function os(e, t, n) {
  let r = ts(He), i = e ? r.get(e) : void 0, a = i ? i.count > 0 : !1;
  return Y(() => {
    if (!(!e || !t)) return He.dispatch("PUSH", e, n), () => He.dispatch("POP", e, n);
  }, [t, e]), a;
}
let en = /* @__PURE__ */ new Map(), ft = /* @__PURE__ */ new Map();
function Qn(e, t = !0) {
  Y(() => {
    var n;
    if (!t) return;
    let r = typeof e == "function" ? e() : e.current;
    if (!r) return;
    function i() {
      var s;
      if (!r) return;
      let o = (s = ft.get(r)) != null ? s : 1;
      if (o === 1 ? ft.delete(r) : ft.set(r, o - 1), o !== 1) return;
      let u = en.get(r);
      u && (u["aria-hidden"] === null ? r.removeAttribute("aria-hidden") : r.setAttribute("aria-hidden", u["aria-hidden"]), r.inert = u.inert, en.delete(r));
    }
    let a = (n = ft.get(r)) != null ? n : 0;
    return ft.set(r, a + 1), a !== 0 || (en.set(r, { "aria-hidden": r.getAttribute("aria-hidden"), inert: r.inert }), r.setAttribute("aria-hidden", "true"), r.inert = !0), i;
  }, [e, t]);
}
function ls({ defaultContainers: e = [], portals: t, mainTreeNodeRef: n } = {}) {
  var r;
  let i = M((r = n == null ? void 0 : n.current) != null ? r : null), a = nt(i), s = A(() => {
    var o, u, f;
    let c = [];
    for (let d of e) d !== null && (d instanceof HTMLElement ? c.push(d) : "current" in d && d.current instanceof HTMLElement && c.push(d.current));
    if (t != null && t.current) for (let d of t.current) c.push(d);
    for (let d of (o = a == null ? void 0 : a.querySelectorAll("html > *, body > *")) != null ? o : []) d !== document.body && d !== document.head && d instanceof HTMLElement && d.id !== "headlessui-portal-root" && (d.contains(i.current) || d.contains((f = (u = i.current) == null ? void 0 : u.getRootNode()) == null ? void 0 : f.host) || c.some((p) => d.contains(p)) || c.push(d));
    return c;
  });
  return { resolveContainers: s, contains: A((o) => s().some((u) => u.contains(o))), mainTreeNodeRef: i, MainTreeNode: V(() => function() {
    return n != null ? null : O.createElement(fn, { features: $t.Hidden, ref: i });
  }, [i, n]) };
}
let xn = we(() => {
});
xn.displayName = "StackContext";
var gn = ((e) => (e[e.Add = 0] = "Add", e[e.Remove = 1] = "Remove", e))(gn || {});
function us() {
  return ae(xn);
}
function cs({ children: e, onUpdate: t, type: n, element: r, enabled: i }) {
  let a = us(), s = A((...o) => {
    t == null || t(...o), a(...o);
  });
  return Y(() => {
    let o = i === void 0 || i === !0;
    return o && s(0, n, r), () => {
      o && s(1, n, r);
    };
  }, [s, n, r, i]), O.createElement(xn.Provider, { value: s }, e);
}
let Mr = we(null);
function _r() {
  let e = ae(Mr);
  if (e === null) {
    let t = new Error("You used a <Description /> component, but it is not inside a relevant parent.");
    throw Error.captureStackTrace && Error.captureStackTrace(t, _r), t;
  }
  return e;
}
function ds() {
  let [e, t] = $([]);
  return [e.length > 0 ? e.join(" ") : void 0, V(() => function(n) {
    let r = A((a) => (t((s) => [...s, a]), () => t((s) => {
      let o = s.slice(), u = o.indexOf(a);
      return u !== -1 && o.splice(u, 1), o;
    }))), i = V(() => ({ register: r, slot: n.slot, name: n.name, props: n.props }), [r, n.slot, n.name, n.props]);
    return O.createElement(Mr.Provider, { value: i }, n.children);
  }, [t])];
}
let fs = "p";
function ps(e, t) {
  let n = Re(), { id: r = `headlessui-description-${n}`, ...i } = e, a = _r(), s = ne(t);
  Y(() => a.register(r), [r, a.register]);
  let o = { ref: s, ...a.props, id: r };
  return ee({ ourProps: o, theirProps: i, slot: a.slot || {}, defaultTag: fs, name: a.name || "Description" });
}
let hs = z(ps), ms = Object.assign(hs, {});
var gs = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(gs || {}), ws = ((e) => (e[e.SetTitleId = 0] = "SetTitleId", e))(ws || {});
let vs = { 0(e, t) {
  return e.titleId === t.id ? e : { ...e, titleId: t.id };
} }, Dt = we(null);
Dt.displayName = "DialogContext";
function wt(e) {
  let t = ae(Dt);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Dialog /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, wt), n;
  }
  return t;
}
function bs(e, t, n = () => [document.body]) {
  os(e, t, (r) => {
    var i;
    return { containers: [...(i = r.containers) != null ? i : [], n] };
  });
}
function ys(e, t) {
  return G(t.type, vs, e, t);
}
let Es = "div", Ts = et.RenderStrategy | et.Static;
function xs(e, t) {
  let n = Re(), { id: r = `headlessui-dialog-${n}`, open: i, onClose: a, initialFocus: s, role: o = "dialog", __demoMode: u = !1, ...f } = e, [c, d] = $(0), p = M(!1);
  o = function() {
    return o === "dialog" || o === "alertdialog" ? o : (p.current || (p.current = !0, console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)), "dialog");
  }();
  let m = Ft();
  i === void 0 && m !== null && (i = (m & q.Open) === q.Open);
  let v = M(null), g = ne(v, t), b = nt(v), N = e.hasOwnProperty("open") || m !== null, y = e.hasOwnProperty("onClose");
  if (!N && !y) throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");
  if (!N) throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");
  if (!y) throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");
  if (typeof i != "boolean") throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);
  if (typeof a != "function") throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);
  let P = i ? 0 : 1, [x, T] = ir(ys, { titleId: null, descriptionId: null, panelRef: sn() }), S = A(() => a(!1)), k = A((U) => T({ type: 0, id: U })), pe = tt() ? u ? !1 : P === 0 : !1, ue = c > 1, Te = ae(Dt) !== null, [je, xe] = Ua(), Z = { get current() {
    var U;
    return (U = x.panelRef.current) != null ? U : v.current;
  } }, { resolveContainers: se, mainTreeNodeRef: oe, MainTreeNode: We } = ls({ portals: je, defaultContainers: [Z] }), ve = ue ? "parent" : "leaf", ke = m !== null ? (m & q.Closing) === q.Closing : !1, Ke = Te || ke ? !1 : pe, Ce = H(() => {
    var U, de;
    return (de = Array.from((U = b == null ? void 0 : b.querySelectorAll("body > *")) != null ? U : []).find((re) => re.id === "headlessui-portal-root" ? !1 : re.contains(oe.current) && re instanceof HTMLElement)) != null ? de : null;
  }, [oe]);
  Qn(Ce, Ke);
  let Ne = ue ? !0 : pe, he = H(() => {
    var U, de;
    return (de = Array.from((U = b == null ? void 0 : b.querySelectorAll("[data-headlessui-portal]")) != null ? U : []).find((re) => re.contains(oe.current) && re instanceof HTMLElement)) != null ? de : null;
  }, [oe]);
  Qn(he, Ne), Er(se, (U) => {
    U.preventDefault(), S();
  }, !(!pe || ue));
  let ce = !(ue || P !== 0);
  Ir(b == null ? void 0 : b.defaultView, "keydown", (U) => {
    ce && (U.defaultPrevented || U.key === X.Escape && (U.preventDefault(), U.stopPropagation(), S()));
  }), bs(b, !(ke || P !== 0 || Te), se), F(() => {
    if (P !== 0 || !v.current) return;
    let U = new ResizeObserver((de) => {
      for (let re of de) {
        let Ye = re.target.getBoundingClientRect();
        Ye.x === 0 && Ye.y === 0 && Ye.width === 0 && Ye.height === 0 && S();
      }
    });
    return U.observe(v.current), () => U.disconnect();
  }, [P, v, S]);
  let [it, at] = ds(), Ve = V(() => [{ dialogState: P, close: S, setTitleId: k }, x], [P, x, S, k]), Xe = V(() => ({ open: P === 0 }), [P]), Ge = { ref: g, id: r, role: o, "aria-modal": P === 0 ? !0 : void 0, "aria-labelledby": x.titleId, "aria-describedby": it };
  return O.createElement(cs, { type: "Dialog", enabled: P === 0, element: v, onUpdate: A((U, de) => {
    de === "Dialog" && G(U, { [gn.Add]: () => d((re) => re + 1), [gn.Remove]: () => d((re) => re - 1) });
  }) }, O.createElement(pn, { force: !0 }, O.createElement(mn, null, O.createElement(Dt.Provider, { value: Ve }, O.createElement(mn.Group, { target: v }, O.createElement(pn, { force: !1 }, O.createElement(at, { slot: Xe, name: "Dialog.Description" }, O.createElement(dt, { initialFocus: s, containers: se, features: pe ? G(ve, { parent: dt.features.RestoreFocus, leaf: dt.features.All & ~dt.features.FocusLock }) : dt.features.None }, O.createElement(xe, null, ee({ ourProps: Ge, theirProps: f, slot: Xe, defaultTag: Es, features: Ts, visible: P === 0, name: "Dialog" }))))))))), O.createElement(We, null));
}
let Cs = "div";
function Ss(e, t) {
  let n = Re(), { id: r = `headlessui-dialog-overlay-${n}`, ...i } = e, [{ dialogState: a, close: s }] = wt("Dialog.Overlay"), o = ne(t), u = A((c) => {
    if (c.target === c.currentTarget) {
      if (Sr(c.currentTarget)) return c.preventDefault();
      c.preventDefault(), c.stopPropagation(), s();
    }
  }), f = V(() => ({ open: a === 0 }), [a]);
  return ee({ ourProps: { ref: o, id: r, "aria-hidden": !0, onClick: u }, theirProps: i, slot: f, defaultTag: Cs, name: "Dialog.Overlay" });
}
let Is = "div";
function Os(e, t) {
  let n = Re(), { id: r = `headlessui-dialog-backdrop-${n}`, ...i } = e, [{ dialogState: a }, s] = wt("Dialog.Backdrop"), o = ne(t);
  F(() => {
    if (s.panelRef.current === null) throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.");
  }, [s.panelRef]);
  let u = V(() => ({ open: a === 0 }), [a]);
  return O.createElement(pn, { force: !0 }, O.createElement(mn, null, ee({ ourProps: { ref: o, id: r, "aria-hidden": !0 }, theirProps: i, slot: u, defaultTag: Is, name: "Dialog.Backdrop" })));
}
let Ps = "div";
function As(e, t) {
  let n = Re(), { id: r = `headlessui-dialog-panel-${n}`, ...i } = e, [{ dialogState: a }, s] = wt("Dialog.Panel"), o = ne(t, s.panelRef), u = V(() => ({ open: a === 0 }), [a]), f = A((c) => {
    c.stopPropagation();
  });
  return ee({ ourProps: { ref: o, id: r, onClick: f }, theirProps: i, slot: u, defaultTag: Ps, name: "Dialog.Panel" });
}
let Rs = "h2";
function Ns(e, t) {
  let n = Re(), { id: r = `headlessui-dialog-title-${n}`, ...i } = e, [{ dialogState: a, setTitleId: s }] = wt("Dialog.Title"), o = ne(t);
  F(() => (s(r), () => s(null)), [r, s]);
  let u = V(() => ({ open: a === 0 }), [a]);
  return ee({ ourProps: { ref: o, id: r }, theirProps: i, slot: u, defaultTag: Rs, name: "Dialog.Title" });
}
let Ls = z(xs), Ms = z(Os), _s = z(As), $s = z(Ss), Ds = z(Ns), tn = Object.assign(Ls, { Backdrop: Ms, Panel: _s, Overlay: $s, Title: Ds, Description: ms }), er = /([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;
function tr(e) {
  var t, n;
  let r = (t = e.innerText) != null ? t : "", i = e.cloneNode(!0);
  if (!(i instanceof HTMLElement)) return r;
  let a = !1;
  for (let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]')) o.remove(), a = !0;
  let s = a ? (n = i.innerText) != null ? n : "" : r;
  return er.test(s) && (s = s.replace(er, "")), s;
}
function js(e) {
  let t = e.getAttribute("aria-label");
  if (typeof t == "string") return t.trim();
  let n = e.getAttribute("aria-labelledby");
  if (n) {
    let r = n.split(" ").map((i) => {
      let a = document.getElementById(i);
      if (a) {
        let s = a.getAttribute("aria-label");
        return typeof s == "string" ? s.trim() : tr(a).trim();
      }
      return null;
    }).filter(Boolean);
    if (r.length > 0) return r.join(", ");
  }
  return tr(e).trim();
}
function ks(e) {
  let t = M(""), n = M("");
  return A(() => {
    let r = e.current;
    if (!r) return "";
    let i = r.innerText;
    if (t.current === i) return n.current;
    let a = js(r).trim().toLowerCase();
    return t.current = i, n.current = a, a;
  });
}
var Fs = ((e) => (e[e.Open = 0] = "Open", e[e.Closed = 1] = "Closed", e))(Fs || {}), Us = ((e) => (e[e.Pointer = 0] = "Pointer", e[e.Other = 1] = "Other", e))(Us || {}), Hs = ((e) => (e[e.OpenMenu = 0] = "OpenMenu", e[e.CloseMenu = 1] = "CloseMenu", e[e.GoToItem = 2] = "GoToItem", e[e.Search = 3] = "Search", e[e.ClearSearch = 4] = "ClearSearch", e[e.RegisterItem = 5] = "RegisterItem", e[e.UnregisterItem = 6] = "UnregisterItem", e))(Hs || {});
function nn(e, t = (n) => n) {
  let n = e.activeItemIndex !== null ? e.items[e.activeItemIndex] : null, r = vr(t(e.items.slice()), (a) => a.dataRef.current.domRef.current), i = n ? r.indexOf(n) : null;
  return i === -1 && (i = null), { items: r, activeItemIndex: i };
}
let Bs = { 1(e) {
  return e.menuState === 1 ? e : { ...e, activeItemIndex: null, menuState: 1 };
}, 0(e) {
  return e.menuState === 0 ? e : { ...e, __demoMode: !1, menuState: 0 };
}, 2: (e, t) => {
  var n;
  let r = nn(e), i = Sa(t, { resolveItems: () => r.items, resolveActiveIndex: () => r.activeItemIndex, resolveId: (a) => a.id, resolveDisabled: (a) => a.dataRef.current.disabled });
  return { ...e, ...r, searchQuery: "", activeItemIndex: i, activationTrigger: (n = t.trigger) != null ? n : 1 };
}, 3: (e, t) => {
  let n = e.searchQuery !== "" ? 0 : 1, r = e.searchQuery + t.value.toLowerCase(), i = (e.activeItemIndex !== null ? e.items.slice(e.activeItemIndex + n).concat(e.items.slice(0, e.activeItemIndex + n)) : e.items).find((s) => {
    var o;
    return ((o = s.dataRef.current.textValue) == null ? void 0 : o.startsWith(r)) && !s.dataRef.current.disabled;
  }), a = i ? e.items.indexOf(i) : -1;
  return a === -1 || a === e.activeItemIndex ? { ...e, searchQuery: r } : { ...e, searchQuery: r, activeItemIndex: a, activationTrigger: 1 };
}, 4(e) {
  return e.searchQuery === "" ? e : { ...e, searchQuery: "", searchActiveItemIndex: null };
}, 5: (e, t) => {
  let n = nn(e, (r) => [...r, { id: t.id, dataRef: t.dataRef }]);
  return { ...e, ...n };
}, 6: (e, t) => {
  let n = nn(e, (r) => {
    let i = r.findIndex((a) => a.id === t.id);
    return i !== -1 && r.splice(i, 1), r;
  });
  return { ...e, ...n, activationTrigger: 1 };
} }, Cn = we(null);
Cn.displayName = "MenuContext";
function Ut(e) {
  let t = ae(Cn);
  if (t === null) {
    let n = new Error(`<${e} /> is missing a parent <Menu /> component.`);
    throw Error.captureStackTrace && Error.captureStackTrace(n, Ut), n;
  }
  return t;
}
function Ws(e, t) {
  return G(t.type, Bs, e, t);
}
let Ks = le;
function Vs(e, t) {
  let { __demoMode: n = !1, ...r } = e, i = ir(Ws, { __demoMode: n, menuState: n ? 0 : 1, buttonRef: sn(), itemsRef: sn(), items: [], searchQuery: "", activeItemIndex: null, activationTrigger: 1 }), [{ menuState: a, itemsRef: s, buttonRef: o }, u] = i, f = ne(t);
  Er([o, s], (m, v) => {
    var g;
    u({ type: 1 }), yn(v, bn.Loose) || (m.preventDefault(), (g = o.current) == null || g.focus());
  }, a === 0);
  let c = A(() => {
    u({ type: 1 });
  }), d = V(() => ({ open: a === 0, close: c }), [a, c]), p = { ref: f };
  return O.createElement(Cn.Provider, { value: i }, O.createElement(Cr, { value: G(a, { 0: q.Open, 1: q.Closed }) }, ee({ ourProps: p, theirProps: r, slot: d, defaultTag: Ks, name: "Menu" })));
}
let Xs = "button";
function Gs(e, t) {
  var n;
  let r = Re(), { id: i = `headlessui-menu-button-${r}`, ...a } = e, [s, o] = Ut("Menu.Button"), u = ne(s.buttonRef, t), f = mt(), c = A((g) => {
    switch (g.key) {
      case X.Space:
      case X.Enter:
      case X.ArrowDown:
        g.preventDefault(), g.stopPropagation(), o({ type: 0 }), f.nextFrame(() => o({ type: 2, focus: me.First }));
        break;
      case X.ArrowUp:
        g.preventDefault(), g.stopPropagation(), o({ type: 0 }), f.nextFrame(() => o({ type: 2, focus: me.Last }));
        break;
    }
  }), d = A((g) => {
    switch (g.key) {
      case X.Space:
        g.preventDefault();
        break;
    }
  }), p = A((g) => {
    if (Sr(g.currentTarget)) return g.preventDefault();
    e.disabled || (s.menuState === 0 ? (o({ type: 1 }), f.nextFrame(() => {
      var b;
      return (b = s.buttonRef.current) == null ? void 0 : b.focus({ preventScroll: !0 });
    })) : (g.preventDefault(), o({ type: 0 })));
  }), m = V(() => ({ open: s.menuState === 0 }), [s]), v = { ref: u, id: i, type: ma(e, s.buttonRef), "aria-haspopup": "menu", "aria-controls": (n = s.itemsRef.current) == null ? void 0 : n.id, "aria-expanded": s.menuState === 0, onKeyDown: c, onKeyUp: d, onClick: p };
  return ee({ ourProps: v, theirProps: a, slot: m, defaultTag: Xs, name: "Menu.Button" });
}
let Ys = "div", qs = et.RenderStrategy | et.Static;
function zs(e, t) {
  var n, r;
  let i = Re(), { id: a = `headlessui-menu-items-${i}`, ...s } = e, [o, u] = Ut("Menu.Items"), f = ne(o.itemsRef, t), c = nt(o.itemsRef), d = mt(), p = Ft(), m = p !== null ? (p & q.Open) === q.Open : o.menuState === 0;
  F(() => {
    let y = o.itemsRef.current;
    y && o.menuState === 0 && y !== (c == null ? void 0 : c.activeElement) && y.focus({ preventScroll: !0 });
  }, [o.menuState, o.itemsRef, c]), va({ container: o.itemsRef.current, enabled: o.menuState === 0, accept(y) {
    return y.getAttribute("role") === "menuitem" ? NodeFilter.FILTER_REJECT : y.hasAttribute("role") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;
  }, walk(y) {
    y.setAttribute("role", "none");
  } });
  let v = A((y) => {
    var P, x;
    switch (d.dispose(), y.key) {
      case X.Space:
        if (o.searchQuery !== "") return y.preventDefault(), y.stopPropagation(), u({ type: 3, value: y.key });
      case X.Enter:
        if (y.preventDefault(), y.stopPropagation(), u({ type: 1 }), o.activeItemIndex !== null) {
          let { dataRef: T } = o.items[o.activeItemIndex];
          (x = (P = T.current) == null ? void 0 : P.domRef.current) == null || x.click();
        }
        wr(o.buttonRef.current);
        break;
      case X.ArrowDown:
        return y.preventDefault(), y.stopPropagation(), u({ type: 2, focus: me.Next });
      case X.ArrowUp:
        return y.preventDefault(), y.stopPropagation(), u({ type: 2, focus: me.Previous });
      case X.Home:
      case X.PageUp:
        return y.preventDefault(), y.stopPropagation(), u({ type: 2, focus: me.First });
      case X.End:
      case X.PageDown:
        return y.preventDefault(), y.stopPropagation(), u({ type: 2, focus: me.Last });
      case X.Escape:
        y.preventDefault(), y.stopPropagation(), u({ type: 1 }), ge().nextFrame(() => {
          var T;
          return (T = o.buttonRef.current) == null ? void 0 : T.focus({ preventScroll: !0 });
        });
        break;
      case X.Tab:
        y.preventDefault(), y.stopPropagation(), u({ type: 1 }), ge().nextFrame(() => {
          fa(o.buttonRef.current, y.shiftKey ? Se.Previous : Se.Next);
        });
        break;
      default:
        y.key.length === 1 && (u({ type: 3, value: y.key }), d.setTimeout(() => u({ type: 4 }), 350));
        break;
    }
  }), g = A((y) => {
    switch (y.key) {
      case X.Space:
        y.preventDefault();
        break;
    }
  }), b = V(() => ({ open: o.menuState === 0 }), [o]), N = { "aria-activedescendant": o.activeItemIndex === null || (n = o.items[o.activeItemIndex]) == null ? void 0 : n.id, "aria-labelledby": (r = o.buttonRef.current) == null ? void 0 : r.id, id: a, onKeyDown: v, onKeyUp: g, role: "menu", tabIndex: 0, ref: f };
  return ee({ ourProps: N, theirProps: s, slot: b, defaultTag: Ys, features: qs, visible: m, name: "Menu.Items" });
}
let Zs = le;
function Js(e, t) {
  let n = Re(), { id: r = `headlessui-menu-item-${n}`, disabled: i = !1, ...a } = e, [s, o] = Ut("Menu.Item"), u = s.activeItemIndex !== null ? s.items[s.activeItemIndex].id === r : !1, f = M(null), c = ne(t, f);
  Y(() => {
    if (s.__demoMode || s.menuState !== 0 || !u || s.activationTrigger === 0) return;
    let T = ge();
    return T.requestAnimationFrame(() => {
      var S, k;
      (k = (S = f.current) == null ? void 0 : S.scrollIntoView) == null || k.call(S, { block: "nearest" });
    }), T.dispose;
  }, [s.__demoMode, f, u, s.menuState, s.activationTrigger, s.activeItemIndex]);
  let d = ks(f), p = M({ disabled: i, domRef: f, get textValue() {
    return d();
  } });
  Y(() => {
    p.current.disabled = i;
  }, [p, i]), Y(() => (o({ type: 5, id: r, dataRef: p }), () => o({ type: 6, id: r })), [p, r]);
  let m = A(() => {
    o({ type: 1 });
  }), v = A((T) => {
    if (i) return T.preventDefault();
    o({ type: 1 }), wr(s.buttonRef.current);
  }), g = A(() => {
    if (i) return o({ type: 2, focus: me.Nothing });
    o({ type: 2, focus: me.Specific, id: r });
  }), b = wa(), N = A((T) => b.update(T)), y = A((T) => {
    b.wasMoved(T) && (i || u || o({ type: 2, focus: me.Specific, id: r, trigger: 0 }));
  }), P = A((T) => {
    b.wasMoved(T) && (i || u && o({ type: 2, focus: me.Nothing }));
  }), x = V(() => ({ active: u, disabled: i, close: m }), [u, i, m]);
  return ee({ ourProps: { id: r, ref: c, role: "menuitem", tabIndex: i === !0 ? void 0 : -1, "aria-disabled": i === !0 ? !0 : void 0, disabled: void 0, onClick: v, onFocus: g, onPointerEnter: N, onMouseEnter: N, onPointerMove: y, onMouseMove: y, onPointerLeave: P, onMouseLeave: P }, theirProps: a, slot: x, defaultTag: Zs, name: "Menu.Item" });
}
let Qs = z(Vs), eo = z(Gs), to = z(zs), no = z(Js), Je = Object.assign(Qs, { Button: eo, Items: to, Item: no });
function ro(e = 0) {
  let [t, n] = $(e), r = gt(), i = H((u) => {
    r.current && n((f) => f | u);
  }, [t, r]), a = H((u) => !!(t & u), [t]), s = H((u) => {
    r.current && n((f) => f & ~u);
  }, [n, r]), o = H((u) => {
    r.current && n((f) => f ^ u);
  }, [n]);
  return { flags: t, addFlag: i, hasFlag: a, removeFlag: s, toggleFlag: o };
}
function io(e) {
  let t = { called: !1 };
  return (...n) => {
    if (!t.called) return t.called = !0, e(...n);
  };
}
function rn(e, ...t) {
  e && t.length > 0 && e.classList.add(...t);
}
function an(e, ...t) {
  e && t.length > 0 && e.classList.remove(...t);
}
function ao(e, t) {
  let n = ge();
  if (!e) return n.dispose;
  let { transitionDuration: r, transitionDelay: i } = getComputedStyle(e), [a, s] = [r, i].map((u) => {
    let [f = 0] = u.split(",").filter(Boolean).map((c) => c.includes("ms") ? parseFloat(c) : parseFloat(c) * 1e3).sort((c, d) => d - c);
    return f;
  }), o = a + s;
  if (o !== 0) {
    n.group((f) => {
      f.setTimeout(() => {
        t(), f.dispose();
      }, o), f.addEventListener(e, "transitionrun", (c) => {
        c.target === c.currentTarget && f.dispose();
      });
    });
    let u = n.addEventListener(e, "transitionend", (f) => {
      f.target === f.currentTarget && (t(), u());
    });
  } else t();
  return n.add(() => t()), n.dispose;
}
function so(e, t, n, r) {
  let i = n ? "enter" : "leave", a = ge(), s = r !== void 0 ? io(r) : () => {
  };
  i === "enter" && (e.removeAttribute("hidden"), e.style.display = "");
  let o = G(i, { enter: () => t.enter, leave: () => t.leave }), u = G(i, { enter: () => t.enterTo, leave: () => t.leaveTo }), f = G(i, { enter: () => t.enterFrom, leave: () => t.leaveFrom });
  return an(e, ...t.base, ...t.enter, ...t.enterTo, ...t.enterFrom, ...t.leave, ...t.leaveFrom, ...t.leaveTo, ...t.entered), rn(e, ...t.base, ...o, ...f), a.nextFrame(() => {
    an(e, ...t.base, ...o, ...f), rn(e, ...t.base, ...o, ...u), ao(e, () => (an(e, ...t.base, ...o), rn(e, ...t.base, ...t.entered), s()));
  }), a.dispose;
}
function oo({ immediate: e, container: t, direction: n, classes: r, onStart: i, onStop: a }) {
  let s = gt(), o = mt(), u = Pe(n);
  Y(() => {
    e && (u.current = "enter");
  }, [e]), Y(() => {
    let f = ge();
    o.add(f.dispose);
    let c = t.current;
    if (c && u.current !== "idle" && s.current) return f.dispose(), i.current(u.current), f.add(so(c, r.current, u.current === "enter", () => {
      f.dispose(), a.current(u.current);
    })), f.dispose;
  }, [n]);
}
function Le(e = "") {
  return e.split(/\s+/).filter((t) => t.length > 1);
}
let Ht = we(null);
Ht.displayName = "TransitionContext";
var lo = ((e) => (e.Visible = "visible", e.Hidden = "hidden", e))(lo || {});
function uo() {
  let e = ae(Ht);
  if (e === null) throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");
  return e;
}
function co() {
  let e = ae(Bt);
  if (e === null) throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");
  return e;
}
let Bt = we(null);
Bt.displayName = "NestingContext";
function Wt(e) {
  return "children" in e ? Wt(e.children) : e.current.filter(({ el: t }) => t.current !== null).filter(({ state: t }) => t === "visible").length > 0;
}
function $r(e, t) {
  let n = Pe(e), r = M([]), i = gt(), a = mt(), s = A((m, v = _e.Hidden) => {
    let g = r.current.findIndex(({ el: b }) => b === m);
    g !== -1 && (G(v, { [_e.Unmount]() {
      r.current.splice(g, 1);
    }, [_e.Hidden]() {
      r.current[g].state = "hidden";
    } }), a.microTask(() => {
      var b;
      !Wt(r) && i.current && ((b = n.current) == null || b.call(n));
    }));
  }), o = A((m) => {
    let v = r.current.find(({ el: g }) => g === m);
    return v ? v.state !== "visible" && (v.state = "visible") : r.current.push({ el: m, state: "visible" }), () => s(m, _e.Unmount);
  }), u = M([]), f = M(Promise.resolve()), c = M({ enter: [], leave: [], idle: [] }), d = A((m, v, g) => {
    u.current.splice(0), t && (t.chains.current[v] = t.chains.current[v].filter(([b]) => b !== m)), t == null || t.chains.current[v].push([m, new Promise((b) => {
      u.current.push(b);
    })]), t == null || t.chains.current[v].push([m, new Promise((b) => {
      Promise.all(c.current[v].map(([N, y]) => y)).then(() => b());
    })]), v === "enter" ? f.current = f.current.then(() => t == null ? void 0 : t.wait.current).then(() => g(v)) : g(v);
  }), p = A((m, v, g) => {
    Promise.all(c.current[v].splice(0).map(([b, N]) => N)).then(() => {
      var b;
      (b = u.current.shift()) == null || b();
    }).then(() => g(v));
  });
  return V(() => ({ children: r, register: o, unregister: s, onStart: d, onStop: p, wait: f, chains: c }), [o, s, r, d, p, c, f]);
}
function fo() {
}
let po = ["beforeEnter", "afterEnter", "beforeLeave", "afterLeave"];
function nr(e) {
  var t;
  let n = {};
  for (let r of po) n[r] = (t = e[r]) != null ? t : fo;
  return n;
}
function ho(e) {
  let t = M(nr(e));
  return F(() => {
    t.current = nr(e);
  }, [e]), t;
}
let mo = "div", Dr = et.RenderStrategy;
function go(e, t) {
  var n, r;
  let { beforeEnter: i, afterEnter: a, beforeLeave: s, afterLeave: o, enter: u, enterFrom: f, enterTo: c, entered: d, leave: p, leaveFrom: m, leaveTo: v, ...g } = e, b = M(null), N = ne(b, t), y = (n = g.unmount) == null || n ? _e.Unmount : _e.Hidden, { show: P, appear: x, initial: T } = uo(), [S, k] = $(P ? "visible" : "hidden"), pe = co(), { register: ue, unregister: Te } = pe;
  F(() => ue(b), [ue, b]), F(() => {
    if (y === _e.Hidden && b.current) {
      if (P && S !== "visible") {
        k("visible");
        return;
      }
      return G(S, { hidden: () => Te(b), visible: () => ue(b) });
    }
  }, [S, b, ue, Te, P, y]);
  let je = Pe({ base: Le(g.className), enter: Le(u), enterFrom: Le(f), enterTo: Le(c), entered: Le(d), leave: Le(p), leaveFrom: Le(m), leaveTo: Le(v) }), xe = ho({ beforeEnter: i, afterEnter: a, beforeLeave: s, afterLeave: o }), Z = tt();
  F(() => {
    if (Z && S === "visible" && b.current === null) throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?");
  }, [b, S, Z]);
  let se = T && !x, oe = x && P && T, We = !Z || se ? "idle" : P ? "enter" : "leave", ve = ro(0), ke = A((ce) => G(ce, { enter: () => {
    ve.addFlag(q.Opening), xe.current.beforeEnter();
  }, leave: () => {
    ve.addFlag(q.Closing), xe.current.beforeLeave();
  }, idle: () => {
  } })), Ke = A((ce) => G(ce, { enter: () => {
    ve.removeFlag(q.Opening), xe.current.afterEnter();
  }, leave: () => {
    ve.removeFlag(q.Closing), xe.current.afterLeave();
  }, idle: () => {
  } })), Ce = $r(() => {
    k("hidden"), Te(b);
  }, pe), Ne = M(!1);
  oo({ immediate: oe, container: b, classes: je, direction: We, onStart: Pe((ce) => {
    Ne.current = !0, Ce.onStart(b, ce, ke);
  }), onStop: Pe((ce) => {
    Ne.current = !1, Ce.onStop(b, ce, Ke), ce === "leave" && !Wt(Ce) && (k("hidden"), Te(b));
  }) });
  let he = g, rt = { ref: N };
  return oe ? he = { ...he, className: _t(g.className, ...je.current.enter, ...je.current.enterFrom) } : Ne.current && (he.className = _t(g.className, (r = b.current) == null ? void 0 : r.className), he.className === "" && delete he.className), O.createElement(Bt.Provider, { value: Ce }, O.createElement(Cr, { value: G(S, { visible: q.Open, hidden: q.Closed }) | ve.flags }, ee({ ourProps: rt, theirProps: he, defaultTag: mo, features: Dr, visible: S === "visible", name: "Transition.Child" })));
}
function wo(e, t) {
  let { show: n, appear: r = !1, unmount: i = !0, ...a } = e, s = M(null), o = ne(s, t);
  tt();
  let u = Ft();
  if (n === void 0 && u !== null && (n = (u & q.Open) === q.Open), ![!0, !1].includes(n)) throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");
  let [f, c] = $(n ? "visible" : "hidden"), d = $r(() => {
    c("hidden");
  }), [p, m] = $(!0), v = M([n]);
  Y(() => {
    p !== !1 && v.current[v.current.length - 1] !== n && (v.current.push(n), m(!1));
  }, [v, n]);
  let g = V(() => ({ show: n, appear: r, initial: p }), [n, r, p]);
  F(() => {
    if (n) c("visible");
    else if (!Wt(d)) c("hidden");
    else {
      let P = s.current;
      if (!P) return;
      let x = P.getBoundingClientRect();
      x.x === 0 && x.y === 0 && x.width === 0 && x.height === 0 && c("hidden");
    }
  }, [n, d]);
  let b = { unmount: i }, N = A(() => {
    var P;
    p && m(!1), (P = e.beforeEnter) == null || P.call(e);
  }), y = A(() => {
    var P;
    p && m(!1), (P = e.beforeLeave) == null || P.call(e);
  });
  return O.createElement(Bt.Provider, { value: d }, O.createElement(Ht.Provider, { value: g }, ee({ ourProps: { ...b, as: le, children: O.createElement(jr, { ref: o, ...b, ...a, beforeEnter: N, beforeLeave: y }) }, theirProps: {}, defaultTag: le, features: Dr, visible: f === "visible", name: "Transition" })));
}
function vo(e, t) {
  let n = ae(Ht) !== null, r = Ft() !== null;
  return O.createElement(O.Fragment, null, !n && r ? O.createElement(wn, { ref: t, ...e }) : O.createElement(jr, { ref: t, ...e }));
}
let wn = z(wo), jr = z(go), bo = z(vo), Nt = Object.assign(wn, { Child: bo, Root: wn });
const yo = "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%207.5L10%2012.5L15%207.5'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e", kr = "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.2692%206.04835H10.6729C7.79592%2012.2004%2012.4577%2014.8894%2015.1483%2015.4648L13.9495%2019.3884C12.7348%2018.4467%2010.7795%2018.0282%209.79384%2017.8974C5.55824%2017.662%204.20118%2020.7103%204.03982%2021.9779C3.72015%2024.4889%205.31849%2026.9215%209.07459%2026.9215C12.0795%2026.9215%2014.3758%2025.2998%2015.1483%2024.4889C18.0892%2027%2020.7958%2027.1569%2021.7814%2026.9215C26.7043%2026.5449%2027.5621%2022.004%2027.3756%2019.7807H24.1789C23.4117%2025.8072%2019.0642%2023.338%2016.9864%2021.3501L18.6646%2015.7002C30.0128%2013.1892%2029.9329%204.322%2024.1789%204.00811C19.5757%203.75701%2016.8265%209.39643%2016.0274%2012.2475C12.1914%2011.6198%2013.2569%207.85317%2014.2692%206.04835Z'%20fill='white'/%3e%3cpath%20d='M19.5437%2012.2475C19.9699%2010.6258%2021.7814%206.99461%2023.7793%207.2254C26.4965%207.53927%2022.6605%2011.5413%2019.5437%2012.2475Z'%20fill='%23303746'/%3e%3cpath%20d='M12.8307%2022.2918C11.7918%2021.2716%208.03567%2020.0946%207.31642%2022.2918C7.00817%2023.2334%209.47418%2024.8813%2012.8307%2022.2918Z'%20fill='%23303746'/%3e%3c/svg%3e", Eo = "data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.5%2017.5H4.16667C3.72464%2017.5%203.30072%2017.3244%202.98816%2017.0118C2.67559%2016.6993%202.5%2016.2754%202.5%2015.8333V4.16667C2.5%203.72464%202.67559%203.30072%202.98816%202.98816C3.30072%202.67559%203.72464%202.5%204.16667%202.5H7.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.333%2014.1667L17.4997%2010L13.333%205.83337'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.5%2010H7.5'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e", Fr = "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.403%2011.0761L22.9233%2012.9126C23.0973%2013.1219%2023.2486%2013.2846%2023.3167%2013.3853C23.7705%2013.8503%2024.0277%2014.478%2024.0277%2015.1289C23.9823%2015.8961%2023.4982%2016.423%2023.0444%2016.9887L21.9779%2018.2673L21.4257%2018.9338C21.403%2018.957%2021.3954%2018.988%2021.3879%2019.019C21.3803%2019.05%2021.3879%2019.081%2021.403%2019.1043C21.4181%2019.1353%2021.4332%2019.1585%2021.4635%2019.174C21.4862%2019.1895%2021.5165%2019.1973%2021.5467%2019.1973H27.0986C27.9458%2019.1973%2029.0123%2019.9257%2028.9518%2021.0338C28.9518%2021.5375%2028.7476%2022.018%2028.3996%2022.3744C28.0441%2022.7309%2027.5676%2022.9324%2027.0684%2022.9324H18.3699C17.795%2022.9324%2016.2595%2022.9944%2015.8284%2021.6538C15.7376%2021.3748%2015.7225%2021.0726%2015.7906%2020.7858C15.9192%2020.3596%2016.1158%2019.9567%2016.373%2019.6002C16.8117%2018.9338%2017.2807%2018.2751%2017.7496%2017.6319C18.3547%2016.7872%2018.9674%2015.9736%2019.5801%2015.1134C19.6028%2015.0824%2019.6103%2015.0514%2019.6103%2015.0127C19.6103%2014.9739%2019.5952%2014.9429%2019.5801%2014.9119L17.3714%2012.254C17.3563%2012.2385%2017.3412%2012.223%2017.3185%2012.2075C17.2958%2012.1997%2017.2731%2012.192%2017.2504%2012.192C17.2277%2012.192%2017.205%2012.1997%2017.1823%2012.2075C17.1596%2012.2152%2017.1445%2012.2307%2017.1294%2012.254C16.5394%2013.0599%2013.945%2016.6323%2013.3928%2017.3607C12.8406%2018.0814%2011.4791%2018.1279%2010.7228%2017.3607L7.26605%2013.8581C7.24335%2013.8348%207.2131%2013.8193%207.18284%2013.8116C7.15259%2013.8038%207.12233%2013.8116%207.09208%2013.8193C7.06182%2013.8348%207.03913%2013.8503%207.024%2013.8813C7.00887%2013.9045%206.99374%2013.9355%207.00131%2013.9665V20.7006C7.00887%2021.181%206.87272%2021.646%206.60042%2022.0412C6.32812%2022.4364%205.94993%2022.7309%205.50365%2022.8936C5.21623%2022.9944%204.91367%2023.0254%204.61868%2022.9789C4.32368%2022.9324%204.03626%2022.8239%203.79421%2022.6456C3.5446%2022.4674%203.34794%2022.2349%203.21179%2021.9637C3.07564%2021.6925%203%2021.3903%203%2021.0881V8.97605C3.02269%208.54209%203.17397%208.12364%203.44627%207.77492C3.71857%207.43396%204.08164%207.18598%204.49765%207.06974C4.85316%206.97675%205.23135%206.97675%205.58686%207.06974C5.94236%207.17048%206.26761%207.35646%206.53235%207.62769L11.8498%2012.9979C11.8649%2013.0134%2011.8876%2013.0289%2011.9027%2013.0366C11.9254%2013.0444%2011.9481%2013.0444%2011.9708%2013.0444C11.9935%2013.0444%2012.0162%2013.0366%2012.0313%2013.0211C12.054%2013.0134%2012.0691%2012.9979%2012.0843%2012.9746L15.8586%207.69743C16.0326%207.48045%2016.252%207.30997%2016.5016%207.19373C16.7512%207.07749%2017.0235%207.00775%2017.2958%207.00775H27.1137C27.386%207.00775%2027.6508%207.06974%2027.8928%207.17823C28.1349%207.29447%2028.3542%207.4572%2028.5358%207.65868C28.7097%207.86016%2028.8459%208.10039%2028.9215%208.36386C28.9972%208.62733%2029.0199%208.89856%2028.982%209.16978C28.914%209.63473%2028.6795%2010.0609%2028.324%2010.3632C27.9685%2010.6654%2027.5146%2010.8359%2027.0457%2010.8281H21.5467C21.5165%2010.8281%2021.4938%2010.8359%2021.4711%2010.8514C21.4484%2010.8669%2021.4257%2010.8901%2021.4181%2010.9134C21.403%2010.9366%2021.403%2010.9676%2021.403%2010.9908C21.3803%2011.0218%2021.3879%2011.0528%2021.403%2011.0761Z'%20fill='url(%23paint0_linear_3119_13568)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_3119_13568'%20x1='4.08333'%20y1='11'%20x2='29'%20y2='11'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EF2690'/%3e%3cstop%20offset='1'%20stop-color='%23AB27FE'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e", To = "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.8444%205H5.48893C5.21893%205%205%205.21883%205%205.48892V11.8444C5%2012.1144%205.21893%2012.3334%205.48893%2012.3334H11.8444C12.1145%2012.3334%2012.3334%2012.1144%2012.3334%2011.8444V5.48892C12.3334%205.21883%2012.1145%205%2011.8444%205ZM19.1807%2012.3336H12.8252C12.5552%2012.3336%2012.3363%2012.5524%2012.3363%2012.8224V19.178C12.3363%2019.448%2012.5552%2019.6669%2012.8252%2019.6669H19.1807C19.4507%2019.6669%2019.6697%2019.448%2019.6697%2019.178V12.8224C19.6697%2012.5524%2019.4507%2012.3336%2019.1807%2012.3336ZM20.1556%205.00001H26.5112C26.7812%205.00001%2027%205.21884%2027%205.48893V11.8444C27%2012.1144%2026.7812%2012.3334%2026.5112%2012.3334H20.1556C19.8856%2012.3334%2019.6666%2012.1144%2019.6666%2011.8444V5.48893C19.6666%205.21884%2019.8856%205.00001%2020.1556%205.00001ZM11.8445%2019.6665H5.48895C5.21895%2019.6665%205.00002%2019.8853%205.00002%2020.1553V26.511C5.00002%2026.781%205.21895%2026.9999%205.48895%2026.9999H11.8445C12.1146%2026.9999%2012.3334%2026.781%2012.3334%2026.511V20.1553C12.3334%2019.8853%2012.1146%2019.6665%2011.8445%2019.6665ZM20.1556%2019.6665H26.5112C26.7812%2019.6665%2027%2019.8853%2027%2020.1553V26.511C27%2026.781%2026.7812%2026.9999%2026.5112%2026.9999H20.1556C19.8856%2026.9999%2019.6666%2026.781%2019.6666%2026.511V20.1553C19.6666%2019.8853%2019.8856%2019.6665%2020.1556%2019.6665Z'%20fill='white'/%3e%3c/svg%3e", Ur = "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20.2892%204.87219L26.2505%2010.3415C26.7579%2010.8061%2027.0077%2011.2762%2026.9998%2011.7498C26.992%2012.2235%2026.7737%2012.6553%2026.3469%2013.047C25.9004%2013.457%2025.4185%2013.6647%2024.9032%2013.6738C24.3879%2013.6811%2023.8766%2013.4515%2023.3691%2012.9869L17.2721%207.39369C16.5798%206.75785%2015.9111%206.30785%2015.268%206.04367C14.6248%205.7795%2013.9482%205.73759%2013.2402%205.91978C12.5302%206.10015%2011.769%206.56473%2010.9528%207.31171C9.82782%208.34472%209.29089%209.31397%209.34596%2010.2195C9.40103%2011.1249%209.9596%2012.065%2011.0197%2013.0361L17.1659%2018.6767C17.6792%2019.1467%2017.931%2019.6168%2017.9231%2020.0832C17.9152%2020.5514%2017.695%2020.9832%2017.2603%2021.3822C16.8276%2021.7794%2016.3497%2021.9871%2015.8305%2022.0035C15.3112%2022.0199%2014.794%2021.7921%2014.2826%2021.3221L8.32127%2015.8528C7.35164%2014.9637%206.65146%2014.122%206.22074%2013.3276C5.79001%2012.5333%205.62874%2011.6351%205.74084%2010.633C5.84115%209.77491%206.13813%208.94413%206.63376%208.13885C7.12743%207.33357%207.83547%206.51008%208.75396%205.66654C9.84749%204.66268%2010.8919%203.89384%2011.887%203.3582C12.8803%202.82256%2013.842%202.52559%2014.7704%202.46365C15.7006%202.4017%2016.6172%202.57296%2017.5239%202.97742C18.4305%203.38188%2019.351%204.01226%2020.2872%204.87219H20.2892Z'%20fill='url(%23paint0_linear_3119_13572)'/%3e%3cpath%20d='M10.9371%2026.9408L4.97771%2021.4714C4.47027%2021.005%204.22049%2020.5368%204.22836%2020.0631C4.23623%2019.5894%204.45454%2019.1576%204.88133%2018.7659C5.32779%2018.356%205.80966%2018.1483%206.32495%2018.1392C6.84025%2018.1319%207.35162%2018.3596%207.85905%2018.826L13.9541%2024.4193C14.6484%2025.0551%2015.3151%2025.5051%2015.9583%2025.7693C16.6014%2026.0335%2017.278%2026.0735%2017.988%2025.8932C18.698%2025.7128%2019.4591%2025.2482%2020.2754%2024.4994C21.4004%2023.4664%2021.9373%2022.4972%2021.8822%2021.5917C21.8272%2020.6862%2021.2686%2019.7461%2020.2085%2018.7732L16.9338%2015.7944C16.4205%2015.3244%2016.1687%2014.8543%2016.1766%2014.3879C16.1845%2013.9197%2016.4047%2013.4879%2016.8394%2013.0889C17.2721%2012.6917%2017.75%2012.484%2018.2692%2012.4676C18.7885%2012.4512%2019.3057%2012.679%2019.8171%2013.149L22.905%2015.9566C23.8746%2016.8457%2024.5748%2017.6874%2025.0055%2018.4817C25.4362%2019.2761%2025.5975%2020.1743%2025.4854%2021.1763C25.3851%2022.0344%2025.0881%2022.8652%2024.5925%2023.6705C24.0988%2024.4757%2023.3908%2025.2992%2022.4723%2026.1428C21.3787%2027.1466%2020.3344%2027.9155%2019.3392%2028.4511C18.344%2028.9868%2017.3822%2029.2856%2016.4519%2029.3475C15.5216%2029.4094%2014.6051%2029.2382%2013.6984%2028.8337C12.7917%2028.4293%2011.8713%2027.7989%2010.9351%2026.9389L10.9371%2026.9408Z'%20fill='url(%23paint1_linear_3119_13572)'/%3e%3cpath%20d='M14.6543%2012.8284C15.8633%2012.8284%2016.8433%2011.9205%2016.8433%2010.8006C16.8433%209.6807%2015.8633%208.77284%2014.6543%208.77284C13.4453%208.77284%2012.4653%209.6807%2012.4653%2010.8006C12.4653%2011.9205%2013.4453%2012.8284%2014.6543%2012.8284Z'%20fill='url(%23paint2_radial_3119_13572)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_3119_13572'%20x1='25.27'%20y1='8.05866'%20x2='7.28614'%20y2='16.6864'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23201C1B'/%3e%3cstop%20offset='0.36'%20stop-color='%2377390D'/%3e%3cstop%20offset='0.67'%20stop-color='%23EA8101'/%3e%3cstop%20offset='1'%20stop-color='%23F4B852'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_3119_13572'%20x1='6.4668'%20y1='23.9797'%20x2='27.5911'%20y2='17.1926'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%231F1D1C'/%3e%3cstop%20offset='0.37'%20stop-color='%2377390D'/%3e%3cstop%20offset='0.67'%20stop-color='%23EA8101'/%3e%3cstop%20offset='1'%20stop-color='%23F4FB52'/%3e%3c/linearGradient%3e%3cradialGradient%20id='paint2_radial_3119_13572'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(14.6543%2010.8024)%20scale(2.18903%202.02777)'%3e%3cstop%20stop-color='%23F4B852'/%3e%3cstop%20offset='0.33'%20stop-color='%23EA8101'/%3e%3cstop%20offset='0.64'%20stop-color='%2377390D'/%3e%3cstop%20offset='1'%20stop-color='%23211C1D'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e", Hr = "data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27.0042%2026.6428V22.6649C27.0042%2022.5072%2026.9416%2022.3568%2026.8298%2022.245L9.90453%205.31965C9.79276%205.20788%209.64232%205.14521%209.4846%205.14521H5.50684C5.31046%205.14521%205.15063%205.30503%205.15063%205.50141V9.19714C5.15063%209.35487%205.21331%209.50528%205.32508%209.61706L11.4004%2015.6923C11.5393%2015.8313%2011.5393%2016.0569%2011.4004%2016.1959L5.25509%2022.3411C5.18824%2022.4079%205.15063%2022.4988%205.15063%2022.5929V26.6428C5.15063%2026.839%205.31046%2026.999%205.50684%2026.999H12.1535C12.3499%2026.999%2012.5097%2026.839%2012.5097%2026.6428V24.2569C12.5097%2024.1629%2012.5473%2024.072%2012.6142%2024.0051L15.9108%2020.7084C16.0498%2020.5695%2016.2754%2020.5695%2016.4144%2020.7084L22.5314%2026.8256C22.6432%2026.9373%2022.7936%2027%2022.9513%2027H26.647C26.8434%2027%2027.0032%2026.8401%2027.0032%2026.6438L27.0042%2026.6428Z'%20fill='white'/%3e%3cpath%20d='M18.1379%2010.413H21.467C21.6644%2010.413%2021.8253%2010.5739%2021.8253%2010.7713V14.1003C21.8253%2014.42%2022.2118%2014.5799%2022.4374%2014.3531L27.0043%209.77894C27.0711%209.71207%2027.1088%209.62121%2027.1088%209.52614V5.52017C27.1088%205.32275%2026.9488%205.16188%2026.7504%205.16188L22.6849%205.15666C22.5899%205.15666%2022.4991%205.19426%2022.4311%205.26112L17.8841%209.80087C17.6585%2010.0265%2017.8182%2010.413%2018.1369%2010.413H18.1379Z'%20fill='%23EE7A30'/%3e%3c/svg%3e";
function vn(e, t = 4, n = 5) {
  if (e.length <= t + n)
    return e;
  const r = e.slice(0, t), i = e.slice(e.length - n);
  return `${r}...${i}`;
}
const xo = {
  [I.XVERSE]: Hr,
  [I.MAGICEDEN]: Fr,
  [I.UNISAT]: Ur,
  [I.LEATHER]: kr,
  [I.OKX]: To
}, Co = {
  [Rt.MAINNET]: "Mainnet",
  [Rt.TESTNET]: "Testnet",
  [Rt.SIGNET]: "Signet"
};
function So({
  address: e,
  network: t,
  onViewProfile: n,
  onChangeWallet: r,
  onDisconnectWallet: i
}) {
  const { wallet: a } = Ee();
  return /* @__PURE__ */ E.jsx(
    Je,
    {
      as: "section",
      className: "wallie-relative wallie-inline-block wallie-text-left",
      children: ({ open: s }) => /* @__PURE__ */ E.jsxs(E.Fragment, { children: [
        /* @__PURE__ */ E.jsxs(Je.Button, { children: [
          /* @__PURE__ */ E.jsx("div", { className: "wallet-identifier-container", children: /* @__PURE__ */ E.jsx(
            "img",
            {
              src: xo[a],
              alt: `${a} is connected`
            }
          ) }),
          /* @__PURE__ */ E.jsxs("section", { className: "address-container", children: [
            /* @__PURE__ */ E.jsx("p", { className: "address", children: vn(e) }),
            /* @__PURE__ */ E.jsxs("section", { className: "network-container", children: [
              /* @__PURE__ */ E.jsx("div", { className: "status-indicator" }),
              /* @__PURE__ */ E.jsx("p", { className: "network", children: Co[t] ?? t })
            ] })
          ] }),
          /* @__PURE__ */ E.jsx(
            "img",
            {
              src: yo,
              className: `dropdown-button ${s ? "close-dropdown-button" : "expand-dropdown-button"}`,
              alt: "ord connect dropdown"
            }
          )
        ] }),
        /* @__PURE__ */ E.jsx(
          Nt,
          {
            as: le,
            enter: "transition ease-out duration-100",
            enterFrom: "transform opacity-0 scale-95",
            enterTo: "transform opacity-100 scale-100",
            leave: "transition ease-in duration-75",
            leaveFrom: "transform opacity-100 scale-100",
            leaveTo: "transform opacity-0 scale-95",
            children: /* @__PURE__ */ E.jsxs(Je.Items, { className: "ord-wallet-connection-dropdown", children: [
              /* @__PURE__ */ E.jsxs(
                Je.Item,
                {
                  as: "button",
                  className: "dropdown-button",
                  onClick: () => n == null ? void 0 : n(),
                  children: [
                    /* @__PURE__ */ E.jsx("span", { className: "label", children: "View profile" }),
                    /* @__PURE__ */ E.jsx("span", { className: "value", children: vn(e) })
                  ]
                }
              ),
              /* @__PURE__ */ E.jsx(
                Je.Item,
                {
                  as: "button",
                  className: "dropdown-button",
                  onClick: () => r == null ? void 0 : r(),
                  children: /* @__PURE__ */ E.jsx("span", { className: "change-wallet-label", children: "Change wallet" })
                }
              ),
              /* @__PURE__ */ E.jsx("hr", { className: "horizontal-separator" }),
              /* @__PURE__ */ E.jsxs(
                Je.Item,
                {
                  as: "button",
                  className: "dropdown-button",
                  onClick: () => i == null ? void 0 : i(),
                  children: [
                    /* @__PURE__ */ E.jsx("span", { className: "label", children: "Disconnect wallet" }),
                    /* @__PURE__ */ E.jsx("img", { src: Eo, className: "logout-icon", alt: "logout" })
                  ]
                }
              )
            ] })
          }
        )
      ] })
    }
  );
}
const Io = "data:image/svg+xml,%3csvg%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cpath%20d='M9%206.25C7.61929%206.25%206.5%207.36929%206.5%208.75V21.25C6.5%2022.6308%207.61929%2023.75%209%2023.75H25C26.3808%2023.75%2027.5%2022.6308%2027.5%2021.25V18.75H23.75C21.6789%2018.75%2020%2017.0711%2020%2015C20%2012.9289%2021.6789%2011.25%2023.75%2011.25H27.5V8.75C27.5%207.36929%2026.3808%206.25%2025%206.25H9Z'%20fill='%231C2033'%20/%3e%3cpath%20d='M25%2015C25%2015.6904%2024.4404%2016.25%2023.75%2016.25C23.0596%2016.25%2022.5%2015.6904%2022.5%2015C22.5%2014.3096%2023.0596%2013.75%2023.75%2013.75C24.4404%2013.75%2025%2014.3096%2025%2015Z'%20fill='%231C2033'%20/%3e%3c/svg%3e";
function Oo({
  openModal: e,
  disabled: t,
  connectButton: n = "Wallet Connect",
  connectButtonComponent: r
}) {
  return r ? /* @__PURE__ */ E.jsx(
    "button",
    {
      onClick: e,
      "aria-label": "Connect Button",
      type: "button",
      className: "wallie-w-full",
      children: r
    }
  ) : /* @__PURE__ */ E.jsxs(
    "button",
    {
      type: "button",
      onClick: e,
      disabled: t,
      className: "wallie-bg-ord-orange wallie-rounded-full wallie-flex wallie-flex-row md:wallie-space-x-2 wallie-items-center wallie-p-1 wallie-pr-2 wallie-px-1 md:wallie-pr-3 md:wallie-px-3",
      children: [
        /* @__PURE__ */ E.jsx("img", { className: "wallie-w-6 md:wallie-w-7", src: Io, alt: "" }),
        /* @__PURE__ */ E.jsx("span", { className: "wallie-hidden md:wallie-block wallie-text-ord-blue wallie-mb-1 wallie-pr-2", children: n })
      ]
    }
  );
}
const Po = "data:image/svg+xml,%3csvg%20width='19'%20height='19'%20viewBox='0%200%2019%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4.07844%204.07811C4.25659%203.90001%204.49818%203.79996%204.75009%203.79996C5.002%203.79996%205.24359%203.90001%205.42174%204.07811L9.50009%208.15646L13.5784%204.07811C13.6661%203.98738%2013.7709%203.915%2013.8868%203.86521C14.0027%203.81542%2014.1274%203.78922%2014.2535%203.78812C14.3796%203.78703%2014.5047%203.81106%2014.6215%203.85883C14.7382%203.9066%2014.8443%203.97714%2014.9335%204.06633C15.0227%204.15553%2015.0933%204.2616%2015.141%204.37835C15.1888%204.4951%2015.2128%204.6202%2015.2117%204.74634C15.2106%204.87248%2015.1844%204.99714%2015.1346%205.11304C15.0848%205.22895%2015.0125%205.33378%2014.9217%205.42141L10.8434%209.49976L14.9217%2013.5781C15.0948%2013.7573%2015.1905%2013.9973%2015.1884%2014.2463C15.1862%2014.4954%2015.0863%2014.7337%2014.9102%2014.9098C14.734%2015.086%2014.4958%2015.1859%2014.2467%2015.1881C13.9976%2015.1902%2013.7576%2015.0945%2013.5784%2014.9214L9.50009%2010.8431L5.42174%2014.9214C5.24257%2015.0945%205.0026%2015.1902%204.75351%2015.1881C4.50442%2015.1859%204.26615%2015.086%204.09001%2014.9098C3.91387%2014.7337%203.81396%2014.4954%203.8118%2014.2463C3.80964%2013.9973%203.90539%2013.7573%204.07844%2013.5781L8.15679%209.49976L4.07844%205.42141C3.90034%205.24326%203.80029%205.00167%203.80029%204.74976C3.80029%204.49785%203.90034%204.25626%204.07844%204.07811Z'%20fill='%23D9D5D2'/%3e%3c/svg%3e";
function Ao() {
  return typeof window > "u" ? !1 : /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
    window.navigator.userAgent
  );
}
async function Ro() {
  let e = 0;
  const t = 20;
  for (; e < t; ) {
    if (typeof window < "u" && window.unisat)
      try {
        const n = await window.unisat.getAccounts();
        if (n && n.length > 0)
          return !0;
      } catch {
        break;
      }
    e += 1, await new Promise((n) => {
      setTimeout(n, 100);
    });
  }
  return !1;
}
const No = "data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20200%20200'%3e%3cradialGradient%20id='a12'%20cx='.66'%20fx='.66'%20cy='.3125'%20fy='.3125'%20gradientTransform='scale(1.5)'%3e%3cstop%20offset='0'%20stop-color='%23D9D5D2'%3e%3c/stop%3e%3cstop%20offset='.3'%20stop-color='%23D9D5D2'%20stop-opacity='.9'%3e%3c/stop%3e%3cstop%20offset='.6'%20stop-color='%23D9D5D2'%20stop-opacity='.6'%3e%3c/stop%3e%3cstop%20offset='.8'%20stop-color='%23D9D5D2'%20stop-opacity='.3'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%23D9D5D2'%20stop-opacity='0'%3e%3c/stop%3e%3c/radialGradient%3e%3ccircle%20transform-origin='center'%20fill='none'%20stroke='url(%23a12)'%20stroke-width='15'%20stroke-linecap='round'%20stroke-dasharray='200%201000'%20stroke-dashoffset='0'%20cx='100'%20cy='100'%20r='70'%3e%3canimateTransform%20type='rotate'%20attributeName='transform'%20calcMode='spline'%20dur='2'%20values='360;0'%20keyTimes='0;1'%20keySplines='0%200%201%201'%20repeatCount='indefinite'%3e%3c/animateTransform%3e%3c/circle%3e%3ccircle%20transform-origin='center'%20fill='none'%20opacity='.2'%20stroke='%23D9D5D2'%20stroke-width='15'%20stroke-linecap='round'%20cx='100'%20cy='100'%20r='70'%3e%3c/circle%3e%3c/svg%3e", Lo = {
  [I.MAGICEDEN]: "Magic Eden",
  [I.UNISAT]: "UniSat",
  [I.XVERSE]: "Xverse",
  [I.LEATHER]: "Leather",
  [I.OKX]: "OKX"
};
function Ct({
  wallet: e,
  subtitle: t,
  onConnect: n,
  icon: r,
  setErrorMessage: i,
  isDisabled: a,
  isMobileDevice: s
}) {
  const { wallet: o, address: u } = Ee(), [{ connectedWallet: f, connectedAddress: c }] = $({
    connectedWallet: o,
    connectedAddress: u
  }), [d, p] = $(!1), m = Lo[e], v = H(async () => {
    p(!0), await Promise.race([
      n().then(() => p(!1)).catch(() => p(!1)),
      new Promise((b) => {
        setTimeout(() => b("timeout"), 5e3);
      })
    ]) === "timeout" ? i(
      "No wallet pop-up? The extension is not responding. Try reloading your browser."
    ) : p(!1);
  }, [n, i]);
  return /* @__PURE__ */ E.jsxs(
    "button",
    {
      type: "button",
      className: "wallie-w-full wallie-flex wallie-flex-row wallie-justify-between wallie-items-center wallie-text-ord-light-gray wallie-bg-ord-light-blue wallie-hover:bg-ord-light-blue-250 wallie-p-2 wallie-rounded-lg md:wallie-text-xl wallie-space-x-4 md:space-x-6 wallie-ease-in wallie-transition-all wallie-duration-100 wallie-ease-in-outscale-120",
      onClick: v,
      disabled: a,
      children: [
        /* @__PURE__ */ E.jsxs("div", { className: "wallie-flex wallie-flex-row wallie-space-x-2", children: [
          /* @__PURE__ */ E.jsx("img", { className: "wallie-w-5 md:wallie-w-8", src: r, alt: "" }),
          /* @__PURE__ */ E.jsx("span", { className: "wallie-text-lg wallie-block wallie-font-medium", children: m }),
          /* @__PURE__ */ E.jsx(
            "span",
            {
              className: "wallie-text-sm wallie-font-medium",
              style: { display: s ? "block" : "none" },
              children: t
            }
          )
        ] }),
        f === e && c.ordinals ? /* @__PURE__ */ E.jsx("div", { className: "wallie-flex wallie-flex-row wallie-ml-auto", children: /* @__PURE__ */ E.jsx("span", { className: "wallie-text-sm wallie-font-medium wallie-pr-3", children: vn(c.ordinals) }) }) : null,
        d && /* @__PURE__ */ E.jsx(
          "img",
          {
            src: No,
            width: 24,
            alt: `${m} extension is loading`
          }
        )
      ]
    }
  );
}
const Mo = {
  [I.OKX]: "https://www.okx.com/web3",
  [I.XVERSE]: "https://www.xverse.app/download",
  [I.LEATHER]: "https://leather.io/install-extension",
  [I.MAGICEDEN]: "https://wallet.magiceden.io/",
  [I.UNISAT]: "https://unisat.io/download"
  // their www subdomain doesn't work
};
function _o({
  isOpen: e,
  closeModal: t
}) {
  const {
    updateAddress: n,
    network: r,
    updateWallet: i,
    updatePublicKey: a,
    updateFormat: s,
    wallet: o,
    format: u,
    address: f,
    publicKey: c,
    disconnectWallet: d
  } = Ee(), [p, m] = $(""), v = Ao(), g = H(
    (x, T) => {
      T instanceof Li && window.open(
        Mo[x],
        "_blank",
        "noopener,noreferrer"
      ), m(T.message ?? T.toString()), d();
    },
    [d]
  ), b = H(async () => {
    if (r === "testnet") {
      const x = new Error(
        "Magic Eden wallet is not supported on testnet"
      );
      return g(I.MAGICEDEN, x), !1;
    }
    try {
      m("");
      const x = await Ti(r);
      if (!x || x.length < 1)
        throw d(), new Error("Magic Eden via Ordit returned no addresses.");
      const T = x.find(
        (k) => k.format === "segwit" || k.format === "p2sh-p2wpkh"
      );
      if (!T)
        throw new Error(
          "Magic Eden via Ordit did not return a P2SH or Segwit address."
        );
      const S = x.find(
        (k) => k.format === "taproot"
      );
      if (!S)
        throw new Error(
          "Magic Eden via Ordit did not return a Taproot address."
        );
      return n({
        ordinals: S.address,
        payments: T.address
      }), a({
        ordinals: S.publicKey,
        payments: T.publicKey
      }), i(I.MAGICEDEN), s({
        ordinals: S.format,
        payments: T.format
      }), t(), !0;
    } catch (x) {
      return g(I.MAGICEDEN, x), !1;
    }
  }, [
    t,
    d,
    r,
    g,
    n,
    s,
    a,
    i
  ]), N = H(
    async ({ readOnly: x } = {}) => {
      try {
        m("");
        const T = await Ii(r, x);
        if (!T || T.length < 1)
          throw d(), new Error("Unisat via Ordit returned no addresses.");
        const S = T[0];
        return n({
          ordinals: S.address,
          payments: S.address
        }), a({
          ordinals: S.publicKey,
          payments: S.publicKey
        }), i(I.UNISAT), s({
          ordinals: S.format,
          payments: S.format
        }), t(), !0;
      } catch (T) {
        return g(I.UNISAT, T), !1;
      }
    },
    [
      t,
      d,
      r,
      g,
      n,
      s,
      a,
      i
    ]
  ), y = H(async () => {
    try {
      m("");
      const x = await Ai(r);
      if (!x || x.length < 1)
        throw d(), new Error("Xverse via Ordit returned no addresses.");
      const T = x.find(
        (k) => k.format === "p2sh-p2wpkh" || k.format === "segwit"
      );
      if (!T)
        throw new Error(
          "Xverse via Ordit did not return a P2SH or Segwit address."
        );
      const S = x.find(
        (k) => k.format === "taproot"
      );
      if (!S)
        throw new Error("Xverse via Ordit did not return a Taproot address.");
      return n({
        ordinals: S.address,
        payments: T.address
      }), a({
        ordinals: S.publicKey,
        payments: T.publicKey
      }), i(I.XVERSE), s({
        ordinals: S.format,
        payments: T.format
      }), t(), !0;
    } catch (x) {
      return g(I.XVERSE, x), !1;
    }
  }, [
    t,
    d,
    r,
    g,
    n,
    s,
    a,
    i
  ]), P = H(async () => {
    try {
      m("");
      const x = await vi(r);
      if (!x || x.length < 1)
        throw d(), new Error("Leather via Ordit returned no addresses.");
      const T = x.find(
        (k) => k.format === "segwit"
      );
      if (!T)
        throw new Error("Leather via Ordit did not return a Segwit address.");
      const S = x.find(
        (k) => k.format === "taproot"
      );
      if (!S)
        throw new Error("Leather via Ordit did not return a Taproot address.");
      return n({
        ordinals: S.address,
        payments: T.address
      }), a({
        ordinals: S.publicKey,
        payments: T.publicKey
      }), i(I.LEATHER), s({
        ordinals: S.format,
        payments: T.format
      }), t(), !0;
    } catch (x) {
      return g(I.LEATHER, x), !1;
    }
  }, [
    t,
    d,
    r,
    g,
    n,
    s,
    a,
    i
  ]);
  return F(() => {
    if (o !== I.UNISAT)
      return;
    let x = !0, T = !1;
    const S = () => N();
    return f && c && u && (async () => {
      const pe = await Ro();
      if (x) {
        if (!pe) {
          d();
          return;
        }
        T = await N({ readOnly: !0 }), x && T && window.unisat.addListener("accountsChanged", S);
      }
    })(), () => {
      x = !1, T && window.unisat.removeListener("accountsChanged", S);
    };
  }, [
    o,
    N,
    d,
    f,
    c,
    u
  ]), /* @__PURE__ */ E.jsx(Nt, { appear: !0, show: e, as: le, children: /* @__PURE__ */ E.jsxs(
    tn,
    {
      as: "div",
      className: "wallie-z-50 wallie-fixed wallie-inset-0 wallie-overflow-y-auto",
      onClose: t,
      children: [
        /* @__PURE__ */ E.jsx(
          Nt.Child,
          {
            as: le,
            enter: "wallie-ease-out wallie-duration-300",
            enterFrom: "wallie-opacity-0",
            enterTo: "wallie-opacity-100",
            leave: "wallie-ease-in wallie-duration-200",
            leaveFrom: "wallie-opacity-100",
            leaveTo: "wallie-opacity-0",
            children: /* @__PURE__ */ E.jsx("div", { className: "wallie-fixed wallie-inset-0 wallie-bg-black wallie-bg-opacity-90 md:wallie-bg-opacity-75 wallie-transition-opacity" })
          }
        ),
        /* @__PURE__ */ E.jsx("section", { className: "wallie-fixed wallie-inset-0 wallie-z-10 wallie-overflow-y-auto", children: /* @__PURE__ */ E.jsx("div", { className: "wallie-flex wallie-min-h-full wallie-w-full md:wallie-w-96 wallie-mx-auto wallie-items-end wallie-justify-center wallie-p-4 wallie-text-left sm:wallie-items-center sm:wallie-p-0", children: /* @__PURE__ */ E.jsx(
          Nt.Child,
          {
            as: le,
            enter: "wallie-ease-out wallie-duration-300",
            enterFrom: "wallie-opacity-0 wallie-scale-95",
            enterTo: "wallie-opacity-100 wallie-scale-100",
            leave: "wallie-ease-in wallie-duration-200",
            leaveFrom: "wallie-opacity-100 wallie-scale-100",
            leaveTo: "wallie-opacity-0 wallie-scale-95",
            children: /* @__PURE__ */ E.jsxs(tn.Panel, { className: "wallie-relative wallie-bg-ord-blue-600 wallie-transform wallie-overflow-hidden wallie-rounded-lg wallie-p-8 wallie-transition-all wallie-w-full", children: [
              /* @__PURE__ */ E.jsxs("section", { className: "wallie-flex wallie-flex-row", children: [
                /* @__PURE__ */ E.jsx(
                  tn.Title,
                  {
                    as: "h3",
                    className: "wallie-text-[21px] wallie-font-medium wallie-leading-8 wallie--mt-1  wallie-text-ord-gray",
                    children: "Connect a wallet to continue!"
                  }
                ),
                /* @__PURE__ */ E.jsx(
                  "button",
                  {
                    type: "button",
                    onClick: t,
                    className: "wallie-ml-auto",
                    children: /* @__PURE__ */ E.jsx(
                      "img",
                      {
                        src: Po,
                        alt: "close modal",
                        className: "wallie-w-[19px] wallie-h-[19px]"
                      }
                    )
                  }
                )
              ] }),
              /* @__PURE__ */ E.jsx("p", { className: "wallie-text-ord-light-blue-400 wallie-font-medium wallie-py-3", children: "Choose a wallet below to connect and continue" }),
              p && /* @__PURE__ */ E.jsx("p", { className: "wallie-text-ord-alert wallie-pb-4", children: p }),
              /* @__PURE__ */ E.jsx("section", { className: "wallie-w-full", children: /* @__PURE__ */ E.jsxs("section", { className: "wallie-w-full wallie-space-y-4", children: [
                /* @__PURE__ */ E.jsx(
                  Ct,
                  {
                    wallet: I.LEATHER,
                    subtitle: "Coming soon on mobile browsing",
                    onConnect: P,
                    icon: kr,
                    setErrorMessage: m,
                    isDisabled: v,
                    isMobileDevice: v
                  }
                ),
                /* @__PURE__ */ E.jsx(
                  Ct,
                  {
                    wallet: I.XVERSE,
                    subtitle: "",
                    onConnect: y,
                    icon: Hr,
                    setErrorMessage: m,
                    isMobileDevice: v
                  }
                ),
                !v && // TODO: remove this once unisat supported on mobile devices
                /* @__PURE__ */ E.jsx(
                  Ct,
                  {
                    wallet: I.UNISAT,
                    subtitle: "Coming soon on mobile browsing",
                    onConnect: N,
                    icon: Ur,
                    setErrorMessage: m,
                    isDisabled: v,
                    isMobileDevice: v
                  }
                ),
                /* @__PURE__ */ E.jsx(
                  Ct,
                  {
                    wallet: I.MAGICEDEN,
                    subtitle: "",
                    onConnect: b,
                    icon: Fr,
                    setErrorMessage: m,
                    isMobileDevice: v
                  }
                )
              ] }) })
            ] })
          }
        ) }) })
      ]
    }
  ) });
}
function pl({
  connectButton: e,
  connectButtonComponent: t,
  hideConnectButton: n,
  onViewProfile: r,
  onChangeWalletClick: i,
  onDisconnectWalletClick: a
}) {
  const {
    address: s,
    disconnectWallet: o,
    network: u,
    isModalOpen: f,
    openModal: c,
    closeModal: d
  } = Ee(), p = Ji(), m = () => n ? null : s != null && s.ordinals ? /* @__PURE__ */ E.jsx(
    So,
    {
      address: s.ordinals,
      network: u,
      onViewProfile: r,
      onChangeWallet: () => {
        c(), i == null || i();
      },
      onDisconnectWallet: () => {
        o(), a == null || a();
      }
    }
  ) : /* @__PURE__ */ E.jsx(
    Oo,
    {
      disabled: !p,
      connectButton: e,
      connectButtonComponent: t,
      openModal: c
    }
  );
  return /* @__PURE__ */ E.jsxs(E.Fragment, { children: [
    m(),
    p ? /* @__PURE__ */ E.jsx(_o, { isOpen: f, closeModal: d }) : null
  ] });
}
class $o {
  constructor({ network: t }) {
    j(this, "network");
    this.network = t;
  }
}
class St {
  /**
   * Parses an inscription.
   *
   * @param inscription Inscription
   * @param options Options
   * - `decodeMetadata` decodes the metadata object into [valid URI components](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent).
   * @returns Parsed inscription
   */
  static parseInscription(t, { decodeMetadata: n }) {
    return {
      ...t,
      meta: n && t.meta ? Mi(t.meta) : t.meta
    };
  }
  /**
   * Parses inscriptions.
   *
   * @param inscriptions Inscriptions
   * @param options Options
   * - `decodeMetadata` decodes the metadata object into [valid URI components](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent).
   * @returns Parsed inscriptions
   */
  static parseInscriptions(t, { decodeMetadata: n }) {
    return t.map(
      (r) => this.parseInscription(r, { decodeMetadata: n })
    );
  }
  static segregateUTXOsBySpendStatus({
    utxos: t
  }) {
    const { spendableUTXOs: n, unspendableUTXOs: r } = t.reduce(
      (i, a) => (a.safeToSpend ? i.spendableUTXOs.push(a) : i.unspendableUTXOs.push(a), i),
      {
        spendableUTXOs: [],
        unspendableUTXOs: []
      }
    );
    return {
      totalUTXOs: t.length,
      spendableUTXOs: n,
      unspendableUTXOs: r
    };
  }
}
const It = {
  version: "0.0.0.10",
  apis: {
    mainnet: {
      batter: "https://mainnet.ordit.io/"
    },
    regtest: {
      batter: "https://regtest.ordit.io/"
    },
    testnet: {
      batter: "https://testnet.ordit.io/"
    },
    signet: {
      batter: "https://signet.ordit.io/"
    }
  }
};
function Do(e) {
  return typeof e == "number" && e > Number.NEGATIVE_INFINITY && e < Number.POSITIVE_INFINITY;
}
function jo(e) {
  return Do(e) && e % 1 === 0;
}
function ko(e) {
  return typeof e == "string";
}
function Fo(e) {
  return ko(e) || jo(e) || e === null;
}
function Ot(e) {
  return e[e.length - 1] === "/" ? e.substring(0, e.length - 1) : e;
}
class Pt {
  constructor(t) {
    this.url = t;
  }
  /**
   * Send a JSON-RPC 2.0 notification to the connected Sado compliant server.
   *
   * @param method - Method to call.
   * @param params - JSON-RPC 2.0 parameters.
   */
  async notify(t, n) {
    await Kn(`${this.url}/rpc`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        jsonrpc: "2.0",
        method: t,
        params: n
      })
    });
  }
  async call(t, n, r) {
    let i = {}, a = r;
    Fo(n) ? a = n : i = n;
    const s = await Kn(`${this.url}/rpc`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        jsonrpc: "2.0",
        method: t,
        params: i,
        id: a
      })
    });
    if (s.status === 200) {
      const o = await s.json();
      if (o.error) {
        const u = typeof o.error.data == "string" ? o.error.data : o.error.message;
        throw new Q(u);
      }
      return o.result;
    }
    throw new Q("Internal Server Error");
  }
}
const J = {
  get id() {
    return Math.floor(Math.random() * 1e5);
  },
  mainnet: new Pt(Ot(It.apis.mainnet.batter)),
  testnet: new Pt(Ot(It.apis.testnet.batter)),
  signet: new Pt(Ot(It.apis.signet.batter)),
  regtest: new Pt(Ot(It.apis.regtest.batter))
};
class vt extends $o {
  constructor({ network: t }) {
    super({ network: t });
  }
  async getBalance({ address: t }) {
    if (!t)
      throw new Q("Invalid request");
    return J[this.network].call(
      "Address.GetBalance",
      { address: t },
      J.id
    );
  }
  async getInscription({
    id: t,
    decodeMetadata: n = !1
  }) {
    if (!t)
      throw new Q("Invalid request");
    const r = Hn(t), i = await J[this.network].call(
      "Ordinals.GetInscription",
      { id: r },
      J.id
    );
    return St.parseInscription(i, { decodeMetadata: n });
  }
  async getInscriptionUTXO({ id: t }) {
    if (!t)
      throw new Q("Invalid request");
    const n = Hn(t);
    return J[this.network].call(
      "Ordinals.GetInscriptionUtxo",
      { id: n },
      J.id
    );
  }
  async getInscriptions({
    creator: t,
    owner: n,
    mimeType: r,
    mimeSubType: i,
    outpoint: a,
    decodeMetadata: s = !1,
    sort: o = "asc",
    limit: u = 25,
    next: f = null
  }) {
    let c = [], d = f;
    do {
      const { inscriptions: p, pagination: m } = await J[this.network].call(
        "Ordinals.GetInscriptions",
        {
          filter: { creator: t, owner: n, mimeType: r, mimeSubType: i, outpoint: a },
          sort: { number: o },
          pagination: { limit: u, next: d }
        },
        J.id
      );
      c = c.concat(p), d = m.next;
    } while (d !== null);
    return St.parseInscriptions(c, {
      decodeMetadata: s
    });
  }
  async getSpendables({
    address: t,
    value: n,
    rarity: r = ["common"],
    filter: i = [],
    limit: a = 200,
    type: s = "spendable"
  }) {
    if (!t || Number.isNaN(n) || !n)
      throw new Q("Invalid request");
    return J[this.network].call(
      "Address.GetSpendables",
      {
        address: t,
        value: n,
        safetospend: s === "spendable",
        allowedrarity: r,
        filter: i,
        limit: a
      },
      J.id
    );
  }
  async getTransaction({
    txId: t,
    ordinals: n = !0,
    hex: r = !1,
    witness: i = !0,
    decodeMetadata: a = !0
  }) {
    if (!t)
      throw new Q("Invalid request");
    const s = await J[this.network].call(
      "Transactions.GetTransaction",
      {
        txid: t,
        options: {
          ord: n,
          hex: r,
          witness: i
        }
      },
      J.id
    );
    return s.vout = s.vout.map((o) => ({
      ...o,
      inscriptions: St.parseInscriptions(o.inscriptions, {
        decodeMetadata: a
      })
    })), {
      tx: s,
      rawTx: r && s.hex ? on.fromHex(s.hex) : void 0
    };
  }
  async getUnspents({
    address: t,
    type: n = "spendable",
    rarity: r = ["common"],
    sort: i = "desc",
    limit: a = 50,
    next: s = null
  }) {
    if (!t)
      throw new Q("Invalid request");
    let o = [], u = s;
    do {
      const { unspents: f, pagination: c } = await J[this.network].call(
        "Address.GetUnspents",
        {
          address: t,
          options: {
            allowedrarity: r,
            safetospend: n === "spendable"
          },
          pagination: {
            limit: a,
            next: u
          },
          sort: { value: i }
        },
        J.id
      );
      o = o.concat(f), u = c.next;
    } while (u !== null);
    return St.segregateUTXOsBySpendStatus({ utxos: o });
  }
  async relay({ hex: t, maxFeeRate: n, validate: r = !0 }) {
    if (!t)
      throw new Q("Invalid request");
    if (n && (n < 0 || Number.isNaN(n)))
      throw new Q("Invalid max fee rate");
    return J[this.network].call(
      "Transactions.Relay",
      { hex: t, maxFeeRate: n, validate: r },
      J.id
    );
  }
}
function hl() {
  const { network: e, publicKey: t, format: n } = Ee(), [r, i] = $(null), [a, s] = $(!1);
  return { getBalance: H(async () => {
    s(!0);
    try {
      if (i(null), !n || !n.payments || !t || !t.payments)
        throw new Error("No wallet is connected");
      const { address: u } = _i(
        t.payments,
        e,
        $i[n.payments]
      )[0], c = await new vt({ network: e }).getBalance({ address: u }), d = Number(
        new Wn(c).multipliedBy(1e8).toFixed(0, Wn.ROUND_HALF_DOWN)
      );
      return s(!1), d;
    } catch (u) {
      throw i(u.message), s(!1), u;
    }
  }, [n, e, t]), error: r, loading: a };
}
async function Sn({
  address: e,
  wallet: t,
  network: n,
  psbt: r,
  options: i
}) {
  var u, f;
  if ((u = i == null ? void 0 : i.signingIndexes) != null && u.length && ((f = i == null ? void 0 : i.inputsToSign) != null && f.length))
    throw new Error("Cannot have both indexes and inputs to sign together");
  const a = (i == null ? void 0 : i.finalize) ?? !0, s = (i == null ? void 0 : i.extractTx) ?? !0, o = () => r.data.inputs.map((c, d) => d);
  if (t === I.MAGICEDEN)
    return await xi(r, {
      network: n,
      inputsToSign: (i == null ? void 0 : i.inputsToSign) ?? [
        {
          address: e,
          signingIndexes: (i == null ? void 0 : i.signingIndexes) ?? o(),
          sigHash: i == null ? void 0 : i.sigHash
        }
      ],
      finalize: a,
      extractTx: s
    });
  if (t === I.UNISAT)
    return await Oi(r, {
      finalize: a,
      extractTx: s
    });
  if (t === I.XVERSE)
    return await Ri(r, {
      network: n,
      inputsToSign: (i == null ? void 0 : i.inputsToSign) ?? [
        {
          address: e,
          signingIndexes: (i == null ? void 0 : i.signingIndexes) ?? o(),
          // If signingIndexes is not provided, just sign everything
          sigHash: i == null ? void 0 : i.sigHash
        }
      ],
      finalize: a,
      extractTx: s
    });
  if (t === I.LEATHER)
    return await bi(r, {
      network: n,
      finalize: a,
      extractTx: s,
      allowedSighash: i != null && i.sigHash ? [i == null ? void 0 : i.sigHash] : [],
      signAtIndexes: (i == null ? void 0 : i.signingIndexes) ?? o()
      // If signingIndexes is not provided, just sign everything
    });
  if (t === I.OKX)
    return await Bi(r, {
      finalize: a,
      extractTx: s,
      network: n,
      inputsToSign: (i == null ? void 0 : i.inputsToSign) ?? [
        {
          address: e,
          signingIndexes: (i == null ? void 0 : i.signingIndexes) ?? o(),
          // If signingIndexes is not provided, just sign everything
          sigHash: i == null ? void 0 : i.sigHash
        }
      ]
    });
  throw new Error("Invalid wallet selected");
}
const Uo = 10.5;
function rr(e) {
  switch (e) {
    case "taproot":
      return { input: 42, output: 43, witness: 66 };
    case "segwit":
      return { input: 41, output: 31, witness: 105 };
    case "p2sh-p2wpkh":
      return { input: 64, output: 32, witness: 105 };
    case "legacy":
      return { input: 148, output: 34, witness: 0 };
    default:
      throw new Q("Invalid type");
  }
}
class Ho {
  constructor({ feeRate: t, network: n, psbt: r, witness: i }) {
    /**
     * Fee in satoshis
     */
    j(this, "fee", 0);
    /**
     * Fee rate in satoshis
     */
    j(this, "feeRate");
    j(this, "network");
    j(this, "psbt");
    j(this, "witness", []);
    j(this, "virtualSize", 0);
    j(this, "weight", 0);
    if (t < 0 || !Number.isSafeInteger(t))
      throw new Q("Invalid feeRate");
    this.feeRate = t, this.network = n, this.witness = i || [], this.psbt = r || new Mt({ network: Lt(this.network) });
  }
  get data() {
    return {
      fee: this.fee,
      virtualSize: this.virtualSize,
      weight: this.weight
    };
  }
  /**
   * Calculates network fee based on virtual size of transaction and fee rate.
   *
   * @returns Estimated network fee
   * @throws {OrditSDKError} Fee is above MAXIMUM_FEE (5,000,000 satoshis)
   */
  calculateNetworkFee() {
    if (this.fee = this.calculateVirtualSize() * this.feeRate, this.fee > Di)
      throw new Q("Error while calculating fees");
    return this.fee;
  }
  getInputAndOutputScriptTypes() {
    const { inputs: t } = this.psbt.data, n = this.psbt.txOutputs;
    if (t.length === 0)
      throw new Q("PSBT must have at least one input");
    if (n.length === 0)
      throw new Q("PSBT must have at least one output");
    return {
      inputTypes: t.map((r) => {
        const i = r.witnessUtxo && r.witnessUtxo.script ? r.witnessUtxo.script : null;
        if (!i)
          throw new Q("Invalid script");
        return Bn(i, this.network).format;
      }),
      outputTypes: n.map(
        (r) => Bn(r.script, this.network).format
      )
    };
  }
  calculateScriptWitnessSize() {
    var n;
    const { inputTypes: t } = this.getInputAndOutputScriptTypes();
    return t.includes("taproot") && ((n = this.witness) != null && n.length) ? this.witness.reduce((r, i) => r + i.byteLength, 0) : 0;
  }
  getBaseSize() {
    var u, f;
    const { inputTypes: t, outputTypes: n } = this.getInputAndOutputScriptTypes(), r = 2, i = t.reduce(
      (c, d) => {
        const { input: p, witness: m } = rr(d);
        return c.input += p, c.witness += m, c;
      },
      {
        input: 0,
        witness: 0
      }
    ), a = n.reduce((c, d) => {
      const { output: p } = rr(d);
      return c + p;
    }, 0), s = i.witness + ((u = this.witness) != null && u.length ? this.calculateScriptWitnessSize() : 0);
    let o = 0;
    return (f = this.witness) != null && f.length ? o = s : s > 0 && (o = r + s), {
      baseSize: i.input + Uo + a,
      witnessSize: o
    };
  }
  calculateVirtualSize() {
    const { baseSize: t, witnessSize: n } = this.getBaseSize();
    return this.weight = t * 3 + (t + n), this.virtualSize = Math.ceil(this.weight / 4), this.virtualSize;
  }
}
function Bo({
  utxo: e,
  pubKey: t,
  network: n,
  sighashType: r,
  witness: i
}) {
  const a = ji.fromPublicKey(
    Be.from(t, "hex"),
    ki,
    Lt(n)
  ), s = ar(a.publicKey);
  if (!e.scriptPubKey.hex)
    throw new Error("Unable to process p2tr input");
  return {
    type: "taproot",
    hash: e.txid,
    index: e.n,
    tapInternalKey: s,
    witnessUtxo: {
      script: Be.from(e.scriptPubKey.hex, "hex"),
      value: e.sats
    },
    witness: i,
    ...r ? { sighashType: r } : void 0
  };
}
function Wo({
  utxo: e,
  sighashType: t
}) {
  if (!e.scriptPubKey.hex)
    throw new Error("Unable to process Segwit input");
  return {
    type: "segwit",
    hash: e.txid,
    index: e.n,
    witnessUtxo: {
      script: Be.from(e.scriptPubKey.hex, "hex"),
      value: e.sats
    },
    ...t ? { sighashType: t } : void 0
  };
}
function Ko({
  utxo: e,
  pubKey: t,
  network: n,
  sighashType: r
}) {
  const i = sr(Be.from(t, "hex"), "p2sh", n);
  if (!i || !i.output || !i.redeem)
    throw new Error("Unable to process P2SH input");
  return {
    type: "p2sh-p2wpkh",
    hash: e.txid,
    index: e.n,
    redeemScript: i.redeem.output,
    witnessUtxo: {
      script: Be.from(e.scriptPubKey.hex, "hex"),
      value: e.sats
    },
    ...r ? { sighashType: r } : void 0
  };
}
async function Vo({
  utxo: e,
  sighashType: t,
  network: n,
  pubKey: r,
  datasource: i
}) {
  const { rawTx: a } = await i.getTransaction({
    txId: e.txid,
    hex: !0
  });
  if (!a)
    throw new Error("Unable to process legacy input");
  const s = sr(Be.from(r, "hex"), "p2pkh", n);
  return {
    type: "legacy",
    hash: e.txid,
    index: e.n,
    nonWitnessUtxo: a == null ? void 0 : a.toBuffer(),
    witnessUtxo: {
      script: s.output,
      value: e.sats
    },
    ...t ? { sighashType: t } : void 0
  };
}
async function Xo({
  utxo: e,
  pubKey: t,
  network: n,
  sighashType: r,
  witness: i,
  datasource: a
}) {
  const s = a || new vt({ network: n });
  switch (e.scriptPubKey.type) {
    case "witness_v1_taproot":
      return Bo({
        utxo: e,
        pubKey: t,
        network: n,
        sighashType: r,
        witness: i
      });
    case "witness_v0_scripthash":
    case "witness_v0_keyhash":
      return Wo({ utxo: e, sighashType: r });
    case "scripthash":
      return Ko({ utxo: e, pubKey: t, network: n, sighashType: r });
    case "pubkeyhash":
      return Vo({
        utxo: e,
        sighashType: r,
        network: n,
        pubKey: t,
        datasource: s
      });
    default:
      throw new Error("invalid script pub type");
  }
}
class Br extends Ho {
  constructor({
    address: n,
    changeAddress: r,
    datasource: i,
    feeRate: a,
    network: s = "mainnet",
    publicKey: o,
    outputs: u,
    autoAdjustment: f = !0,
    instantTradeMode: c = !1
  }) {
    super({
      feeRate: a,
      network: s
    });
    j(this, "address");
    j(this, "changeAddress");
    /**
     * Change amount in satoshis
     */
    j(this, "changeAmount", 0);
    j(this, "datasource");
    j(this, "injectableInputs", []);
    j(this, "injectableOutputs", []);
    /**
     * Input amount in satoshis
     */
    j(this, "inputAmount", 0);
    j(this, "inputs", []);
    /**
     * Output amount in satoshis
     */
    j(this, "outputAmount", 0);
    j(this, "outputs", []);
    j(this, "psbt");
    j(this, "publicKey");
    /**
     * Replace-by-fee (RBF) is a feature that allows users to replace one version of an unconfirmed transaction
     * with a different version of the transaction that pays a higher transaction fee.
     * This can be done multiple times while the transaction is unconfirmed.
     *
     * Reference: [BIP-125](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki)
     */
    j(this, "rbf", !0);
    j(this, "utxos", []);
    j(this, "usedUTXOs", []);
    /**
     * Enable auto adjustment.
     *
     * When `true`, change is calculated and UTXOs will be added as required to account for network fees.
     *
     * Otherwise, change is not calculated and no UTXOs will be added.
     */
    j(this, "autoAdjustment");
    j(this, "instantTradeMode");
    j(this, "noMoreUTXOS", !1);
    this.address = n, this.changeAddress = r, this.datasource = i || new vt({ network: this.network }), this.outputs = u, this.publicKey = o, this.autoAdjustment = f, this.instantTradeMode = c, this.psbt = new Mt({ network: Lt(s) });
  }
  get data() {
    return {
      fee: this.fee,
      virtualSize: this.virtualSize,
      weight: this.weight,
      changeAmount: this.changeAmount,
      inputAmount: this.inputAmount,
      outputAmount: this.outputAmount
    };
  }
  toPSBT() {
    return this.psbt;
  }
  toHex() {
    return this.psbt.toHex();
  }
  toBase64() {
    return this.psbt.toBase64();
  }
  /**
   * Set Replace-by-fee (RBF) value
   *
   * Replace-by-fee (RBF) is a feature that allows users to replace one version of an unconfirmed transaction
   * with a different version of the transaction that pays a higher transaction fee.
   * This can be done multiple times while the transaction is unconfirmed.
   *
   * Reference: [BIP-125](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki)
   */
  setRBF(n) {
    this.rbf = n, this.addInputs();
  }
  /**
   * Gets the x-coordinate of the public key.
   */
  get xKey() {
    return ar(Be.from(this.publicKey, "hex")).toString("hex");
  }
  get inputsToSign() {
    const n = this.instantTradeMode && !this.autoAdjustment;
    return this.psbt.txInputs.reduce(
      (r, i, a) => ((!this.instantTradeMode || this.instantTradeMode && a !== Fi) && (r.signingIndexes = r.signingIndexes.concat(a)), n && (r.sigHash = // eslint-disable-next-line no-bitwise
      on.SIGHASH_SINGLE | on.SIGHASH_ANYONECANPAY), r),
      {
        address: this.address,
        signingIndexes: []
      }
    );
  }
  initPSBT() {
    this.psbt = new Mt({ network: Lt(this.network) }), this.psbt.setMaximumFeeRate(this.feeRate);
  }
  getInputSequence() {
    return this.rbf ? 4294967293 : 4294967295;
  }
  injectInput(n) {
    this.psbt.data.globalMap.unsignedTx.tx.ins[n.injectionIndex] = n.txInput, this.psbt.data.inputs[n.injectionIndex] = n.standardInput;
  }
  injectOutput(n) {
    let r = n.injectionIndex;
    do {
      if (!!!this.psbt.data.globalMap.unsignedTx.tx.outs[r]) {
        this.psbt.data.globalMap.unsignedTx.tx.outs[r] = n.txOutput, this.psbt.data.outputs[r] = // TODO: remove hack
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        n.standardOutput;
        break;
      }
      r += 1;
    } while (r);
  }
  addInputs() {
    const n = this.injectableInputs.map(
      (i) => i.injectionIndex
    ), r = [];
    this.inputs.forEach((i, a) => {
      const s = n.includes(a);
      if (s) {
        const u = this.injectableInputs.find(
          (f) => f.injectionIndex === a
        );
        this.injectInput(u), r.push(u.injectionIndex);
      }
      this.psbt.txInputs.map((u) => {
        const f = Ki(u.hash);
        return lt(f.toString("hex"), u.index);
      }).includes(
        lt(i.hash, i.index)
      ) || (this.psbt.addInput(i), this.psbt.setInputSequence(
        s ? a + 1 : a,
        this.getInputSequence()
      ));
    }), this.injectableInputs.forEach((i) => {
      r.includes(i.injectionIndex) || (this.injectInput(i), r.push(i.injectionIndex));
    });
  }
  addOutputs() {
    const n = this.injectableOutputs.map((i) => i.injectionIndex), r = [];
    this.outputs.forEach((i, a) => {
      if (n.includes(a)) {
        const s = this.injectableOutputs.find(
          (o) => o.injectionIndex === a
        );
        this.injectOutput(s), r.push(s.injectionIndex);
      }
      this.psbt.addOutput({
        address: i.address,
        value: i.value
      });
    }), this.injectableOutputs.forEach((i) => {
      r.includes(i.injectionIndex) || (this.injectOutput(i), r.push(i.injectionIndex));
    }), this.changeAmount >= zt && this.psbt.addOutput({
      address: this.changeAddress || this.address,
      value: this.changeAmount
    });
  }
  calculateOutputAmount() {
    if (this.outputAmount = Math.floor(
      this.outputs.reduce((n, r) => n + r.value, 0) + this.injectableOutputs.reduce((n, r) => n + r.sats, 0)
    ), this.outputAmount < zt)
      throw new Error(
        `Output amount too low. Minimum output amount needs to be ${zt} sats`
      );
  }
  /**
   * Calculates change amount from transaction and fetches additional UTXOs as required to cover output and network fees, if change is negative.
   */
  async recursivelyCalculateChangeAmount() {
    if (this.autoAdjustment && (this.changeAmount = Math.floor(
      this.inputAmount - this.outputAmount - this.fee
    ), this.changeAmount < 0 && (await this.prepare(), this.noMoreUTXOS)))
      throw new Error(
        `Insufficient balance. Decrease the output amount by ${this.changeAmount * -1} sats`
      );
  }
  getRetrievedUTXOsValue() {
    return this.utxos.reduce((n, r) => n + r.sats, 0);
  }
  getReservedUTXOs() {
    return this.utxos.map(
      (n) => lt(n.txid, n.n)
    );
  }
  getUTXOAmountToRequestFromChangeAmount() {
    return this.changeAmount < 0 ? Math.abs(this.changeAmount) : this.outputAmount - this.getRetrievedUTXOsValue();
  }
  /**
   * Retrieves UTXOs using `getSpendables` RPC.
   *
   * @param address Address
   * @param amount Amount in satoshis
   */
  async retrieveUTXOs(n, r) {
    if (!this.autoAdjustment && !n)
      return;
    const i = r && r > 0 ? r : this.getUTXOAmountToRequestFromChangeAmount();
    if (r && this.getRetrievedUTXOsValue() >= r || i <= 0)
      return;
    const a = await this.datasource.getSpendables({
      address: n || this.address,
      value: Ui(i),
      filter: this.getReservedUTXOs()
    });
    this.noMoreUTXOS = a.length === 0, this.utxos.push(...a);
  }
  async retrieveSelectedUTXOs(n, r) {
    await this.retrieveUTXOs(n, r);
    const i = this.utxos.find((a) => a.sats >= r);
    return this.utxos = i ? [i] : [], this.utxos;
  }
  /**
   * Prepares inputs from UTXOs.
   */
  async prepareInputs() {
    if (!this.autoAdjustment)
      return;
    const n = [];
    this.utxos.forEach((i) => {
      if (this.usedUTXOs.includes(lt(i.txid, i.n)))
        return;
      this.inputAmount += i.sats;
      const a = Xo({
        utxo: i,
        pubKey: this.publicKey,
        network: this.network,
        datasource: this.datasource
      });
      n.push(a);
    });
    const r = await Promise.all(n);
    this.inputAmount += this.injectableInputs.reduce(
      (i, a) => i + a.sats,
      0
    ), r.forEach((i) => {
      const a = lt(
        i.hash,
        i.index
      );
      this.usedUTXOs.includes(a) || this.usedUTXOs.push(a);
    }), this.inputs = this.inputs.concat(r);
  }
  /**
   * Prepares PSBT to be set to a network, calculating and validating both inputs and outputs.
   */
  async prepare() {
    this.calculateOutputAmount(), await this.retrieveUTXOs(), await this.prepareInputs(), await this.recursivelyCalculateChangeAmount(), this.process(), await this.recursivelyCalculateChangeAmount(), this.calculateOutputAmount(), this.process();
  }
  /**
   * Initializes PSBT instance, adding all inputs and outputs and calculates network fees.
   *
   * @returns PSBTBuilder instance
   */
  process() {
    return this.initPSBT(), this.addInputs(), this.addOutputs(), this.calculateNetworkFee(), this;
  }
}
function ml() {
  const { wallet: e, network: t, address: n, publicKey: r } = Ee(), [i, a] = $(null), [s, o] = $(!1);
  return { send: H(
    async (f, c, d, p = !0) => {
      o(!0);
      try {
        if (a(null), !n || !n.payments || !r || !r.payments || !e)
          throw new Error("No wallet is connected");
        const m = new Br({
          address: n.payments,
          feeRate: d,
          network: t,
          publicKey: r.payments,
          outputs: [
            {
              address: f,
              value: c
            }
          ]
        });
        await m.prepare();
        const v = await Sn({
          address: n.payments,
          wallet: e,
          network: t,
          psbt: m.toPSBT()
        });
        if (p) {
          const b = await new vt({ network: t }).relay({ hex: v.hex });
          return o(!1), b;
        }
        return o(!1), v.hex;
      } catch (m) {
        return a(m.message), o(!1), null;
      }
    },
    [n, t, r, e]
  ), error: i, loading: s };
}
function gl() {
  const { wallet: e, network: t, address: n, publicKey: r } = Ee(), [i, a] = $(null), [s, o] = $(!1);
  return { send: H(
    async (f, c) => {
      o(!0);
      try {
        if (a(null), !n || !n.payments || !r || !r.payments || !e)
          throw new Error("No wallet is connected");
        if (e === "magiceden" || e === "xverse") {
          const d = e === "magiceden" ? await Ci() : void 0;
          let p = null;
          return p = await new Promise((m, v) => {
            Vi({
              payload: {
                network: {
                  type: t === "mainnet" ? Vn.Mainnet : Vn.Testnet
                },
                message: "Sign Transaction",
                recipients: [
                  {
                    address: f,
                    amountSats: BigInt(c)
                  }
                ],
                senderAddress: n.payments
              },
              getProvider: async () => d,
              onFinish: (g) => {
                m(g);
              },
              onCancel: () => {
                v(new Error("Transaction canceled"));
              }
            });
          }), o(!1), p;
        }
        if (e === "unisat") {
          let d = "";
          return d = await window.unisat.sendBitcoin(f, c, {}), o(!1), d;
        }
        if (e === "leather") {
          let d = "";
          return d = (await yi(
            "sendTransfer",
            {
              recipients: [
                {
                  address: f,
                  amount: c
                }
              ],
              network: t
            }
          )).txid, o(!1), d;
        }
        if (e === "okx") {
          let d = "";
          if (t === "mainnet")
            return d = await window.okxwallet.bitcoin.sendBitcoin(
              f,
              c,
              {}
            ), o(!1), d;
          if (t === "testnet")
            return d = await window.okxwallet.bitcoinTestnet.sendBitcoin(
              f,
              c,
              {}
            ), o(!1), d;
        }
        return o(!1), null;
      } catch (d) {
        return a(d.message), o(!1), null;
      }
    },
    [n, t, r, e]
  ), error: i, loading: s };
}
function wl() {
  const { wallet: e, network: t, address: n, publicKey: r } = Ee(), [i, a] = $(!1);
  return { send: H(
    async ({
      toAddress: o,
      satoshis: u,
      feeRate: f,
      relay: c = !0,
      rbf: d = !1
    }) => {
      a(!0);
      try {
        if (!n || !n.payments || !r || !r.payments || !e)
          throw new Error("No wallet is connected");
        const p = new Br({
          address: n.payments,
          feeRate: f,
          network: t,
          publicKey: r.payments,
          outputs: [
            {
              address: o,
              value: u
            }
          ]
        });
        p.setRBF(d), await p.prepare();
        const m = await Sn({
          address: n.payments,
          wallet: e,
          network: t,
          psbt: p.toPSBT()
        });
        if (c) {
          const g = await new vt({ network: t }).relay({ hex: m.hex });
          return a(!1), {
            txId: g
          };
        }
        return a(!1), {
          signedPsbtHex: m.hex
        };
      } catch (p) {
        return a(!1), {
          error: p.message
        };
      }
    },
    [n, t, r, e]
  ), isLoading: i };
}
function vl() {
  const { network: e, publicKey: t, format: n, wallet: r } = Ee(), [i, a] = $(null), [s, o] = $(!1);
  return { sign: H(
    async (f, c, d) => {
      o(!0);
      try {
        if (a(null), !n || !t || !r)
          throw new Error("No wallet is connected");
        const p = Mt.fromBase64(c), m = await Sn({
          address: f,
          wallet: r,
          network: e,
          psbt: p,
          options: d
        });
        return o(!1), m;
      } catch (p) {
        throw a(p.message), o(!1), p;
      }
    },
    [n, e, t, r]
  ), error: i, loading: s };
}
function Go(e) {
  if (e === "segwit")
    return Un.P2WPKH;
  if (e === "taproot")
    return Un.P2TR;
  throw new Error("Leather payment address format is not supported");
}
async function Yo({
  message: e,
  wallet: t,
  address: n,
  network: r,
  format: i
}) {
  if (t === I.MAGICEDEN) {
    const { base64: a } = await Si(e, n, r);
    return a;
  }
  if (t === I.UNISAT) {
    const { base64: a } = await Pi(e, "bip322-simple");
    return a;
  }
  if (t === I.XVERSE) {
    const { base64: a } = await Ni(e, n, r);
    return a;
  }
  if (t === I.LEATHER) {
    const a = Go(i), { base64: s } = await Ei(e, {
      paymentType: a,
      network: r
    });
    return s;
  }
  if (t === I.OKX) {
    const { base64: a } = await Wi(e, "bip322-simple", r);
    return a;
  }
  throw new Error("Invalid wallet selected");
}
function bl() {
  const {
    network: e,
    wallet: t,
    publicKey: n,
    format: r,
    address: i
  } = Ee(), [a, s] = $(null), [o, u] = $(!1);
  return { signMsg: H(
    async (c, d) => {
      u(!0);
      try {
        if (s(null), !r || !n || !t)
          throw new Error("No wallet is connected");
        if (i.ordinals !== c && i.payments !== c)
          throw new Error("Address supplied is not connected address");
        const p = await Yo({
          address: c,
          wallet: t,
          message: d,
          network: e,
          format: i.ordinals === c ? r.ordinals : r.payments
        });
        return u(!1), p;
      } catch (p) {
        throw s(p.message), u(!1), p;
      }
    },
    [r, e, n, t, i]
  ), error: a, isLoading: o };
}
export {
  Rt as Network,
  pl as OrdConnectKit,
  _o as SelectWalletModal,
  I as Wallet,
  dl as WallieProvider,
  hl as useBalance,
  ml as useSend,
  gl as useSendBtc,
  wl as useSendV2,
  vl as useSign,
  bl as useSignMessage,
  Ee as useWallie
};
